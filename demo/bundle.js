!function(){var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.SERVER_ERROR=e.PARALLEL_REQUEST_ERROR=e.REQUEST_TIMEOUT_ERROR=e.REQUEST_OPEN_ERROR=e.REQUEST_ABORTED_ERROR=e.NETWORK_ERROR=e.UNSUPPORTED_SUBCOMMAND_ERROR=e.UNSUPPORTED_PARSER_ERROR=e.UNSUPPORTED_COMMAND_ERROR=e.UNKNOWN_RESPONSE_ERROR=e.UNKNOWN_FILE_SIZE_ERROR=e.UNKNOWN_DEVICE_ERROR=e.UNDEFINED_SETTING_ERROR=e.UNDEFINED_ERROR=e.NO_LASER_MODULE_ERROR=e.NO_HEATERS_FOUND_ERROR=e.NOT_SUSPENDED_ERROR=e.NOT_ENOUGH_SPACE_ERROR=e.NOT_CURRENTLY_PLAYING_ERROR=e.MINIMAL_DURATION_ERROR=e.KILL_ERROR=e.INVALID_COMMAND_ERROR=e.INVALID_ARGUMENTS_ERROR=e.FILE_NOT_FOUND_ERROR=e.CURRENTLY_PLAYING_ERROR=e.COULD_NOT_UPLOAD_ERROR=e.COULD_NOT_OPEN_ERROR=e.COULD_NOT_MOVE_ERROR=e.COULD_NOT_DELETE_ERROR=e.COULD_NOT_CREATE_ERROR=e.ALREADY_SUSPENDED_ERROR=void 0,e.ALREADY_SUSPENDED_ERROR="ALREADY_SUSPENDED_ERROR",e.COULD_NOT_CREATE_ERROR="COULD_NOT_CREATE_ERROR",e.COULD_NOT_DELETE_ERROR="COULD_NOT_DELETE_ERROR",e.COULD_NOT_MOVE_ERROR="COULD_NOT_MOVE_ERROR",e.COULD_NOT_OPEN_ERROR="COULD_NOT_OPEN_ERROR",e.COULD_NOT_UPLOAD_ERROR="COULD_NOT_UPLOAD_ERROR",e.CURRENTLY_PLAYING_ERROR="CURRENTLY_PLAYING_ERROR",e.FILE_NOT_FOUND_ERROR="FILE_NOT_FOUND_ERROR",e.INVALID_ARGUMENTS_ERROR="INVALID_ARGUMENTS_ERROR",e.INVALID_COMMAND_ERROR="INVALID_COMMAND_ERROR",e.KILL_ERROR="KILL_ERROR",e.MINIMAL_DURATION_ERROR="MINIMAL_DURATION_ERROR",e.NOT_CURRENTLY_PLAYING_ERROR="NOT_CURRENTLY_PLAYING_ERROR",e.NOT_ENOUGH_SPACE_ERROR="NOT_ENOUGH_SPACE_ERROR",e.NOT_SUSPENDED_ERROR="NOT_SUSPENDED_ERROR",e.NO_HEATERS_FOUND_ERROR="NO_HEATERS_FOUND_ERROR",e.NO_LASER_MODULE_ERROR="NO_LASER_MODULE_ERROR",e.UNDEFINED_ERROR="UNDEFINED_ERROR",e.UNDEFINED_SETTING_ERROR="UNDEFINED_SETTING_ERROR",e.UNKNOWN_DEVICE_ERROR="UNKNOWN_DEVICE_ERROR",e.UNKNOWN_FILE_SIZE_ERROR="UNKNOWN_FILE_SIZE_ERROR",e.UNKNOWN_RESPONSE_ERROR="UNKNOWN_RESPONSE_ERROR",e.UNSUPPORTED_COMMAND_ERROR="UNSUPPORTED_COMMAND_ERROR",e.UNSUPPORTED_PARSER_ERROR="UNSUPPORTED_PARSER_ERROR",e.UNSUPPORTED_SUBCOMMAND_ERROR="UNSUPPORTED_SUBCOMMAND_ERROR",e.NETWORK_ERROR="NETWORK_ERROR",e.REQUEST_ABORTED_ERROR="REQUEST_ABORTED_ERROR",e.REQUEST_OPEN_ERROR="REQUEST_OPEN_ERROR",e.REQUEST_TIMEOUT_ERROR="REQUEST_TIMEOUT_ERROR",e.PARALLEL_REQUEST_ERROR="PARALLEL_REQUEST_ERROR",e.SERVER_ERROR="SERVER_ERROR";var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.params,r=e.xhr;return{xhr:r,params:t,data:{},text:r?r.responseText:""}};var r={};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,r){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&a(o,r.prototype),o}).apply(null,arguments)}(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=function(t){function r(t){var u,a,c=t.name,f=void 0===c?"RequestError":c,s=t.type,l=void 0===s?e.UNDEFINED_ERROR:s,p=t.message,d=t.response,y=t.parentError,m=void 0===y?null:y;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this,(u=!(a=i(r).call(this,p))||"object"!==n(a)&&"function"!=typeof a?o(this):a).name=f,u.type=l,u.response=d,u.parentError=m,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(o(u),u.constructor):u.stack=new Error(p).stack,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(r,u(Error)),r}();r.default=c;var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s,l=(s=r)&&s.__esModule?s:{default:s};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(t){function r(t){var n,o,u=t.message,a=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=d(r).call(this,{response:a,name:"RequestOpenError",type:e.REQUEST_OPEN_ERROR,message:u}))||"object"!==p(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(r,l.default),r}();f.default=m;var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var _,O=(_=r)&&_.__esModule?_:{default:_};function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(t){function r(t){var n,o,u=t.timeout,a=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=v(r).call(this,{response:a,name:"RequestTimeoutError",type:e.REQUEST_TIMEOUT_ERROR,message:"Timeout of [".concat(u,"] ms exceeded.")}))||"object"!==h(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(r,O.default),r}();b.default=E;var w={};Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var R,j=(R=r)&&R.__esModule?R:{default:R};function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(t){function r(t){var n,o,u=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=S(r).call(this,{response:u,name:"RequestAbortedError",type:e.REQUEST_ABORTED_ERROR,message:"Request aborted."}))||"object"!==P(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(r,j.default),r}();w.default=C;var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var N,U=(N=r)&&N.__esModule?N:{default:N};function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(t){function r(t){var n,o,u=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=k(r).call(this,{response:u,name:"ParallelRequestError",type:e.PARALLEL_REQUEST_ERROR,message:"Parallel request prohibited. Please wait for the end of a request before sending another."}))||"object"!==D(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(r,U.default),r}();T.default=A;var L={};Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0;var x,W=(x=r)&&x.__esModule?x:{default:x};function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(t){function r(t){var n,o,u=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=G(r).call(this,{response:u,name:"NetworkError",type:e.NETWORK_ERROR,message:"Network error."}))||"object"!==F(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(r,W.default),r}();L.default=H;var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var q,V=(q=r)&&q.__esModule?q:{default:q};function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(t){function r(t){var n,o,u=t.status,a=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=B(r).call(this,{response:a,name:"ServerError",type:e.SERVER_ERROR,message:"Server error [".concat(u,"].")}))||"object"!==Y(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(r,V.default),r}();K.default=J;var Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.isSent=ie,Z.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.method,r=void 0===t?"POST":t,n=e.url,o=void 0===n?"/":n,u=e.data,a=void 0===u?null:u,i=e.timeout,c=void 0===i?0:i,f=e.headers,s=void 0===f?null:f,l=e.beforeSend,p=void 0===l?null:l,d=e.onUploadProgress,y=void 0===d?null:d,m=e.validateStatus,b=void 0===m?function(e){return e>=200&&e<300}:m,_=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["method","url","data","timeout","headers","beforeSend","onUploadProgress","validateStatus"]);o.startsWith("http://")||(o="http://".concat(o));var O={method:r,url:o,data:a,userData:_,timeout:c,headers:s,beforeSend:p,onUploadProgress:y,validateStatus:b};return new Promise(function(e,t){var n=new XMLHttpRequest,u=o.match(/http:\/\/([^\/]+)/),i=u?u[1]:"localhost";try{n.open(r,o,!0)}catch(d){var f=(0,X.default)({params:O,xhr:n});return t(new $.default({message:d.message,response:f}))}if(n.timeout=c,s&&s.forEach(function(e){var t,r=(2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),2!==r.length);n=!0);}catch(c){o=!0,u=c}finally{try{n||null==i.return||i.return()}finally{if(o)throw u}}return r}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),o=r[0],u=r[1];return n.setRequestHeader(o,u)}),n.onreadystatechange=function(){if(n&&4===n.readyState&&0!==n.status){if(ae[i]=!1,b(n.status))e((0,X.default)({params:O,xhr:n}));else{var r=(0,X.default)({params:O,xhr:n});t(new oe.default({status:n.status,response:r}))}n=null}},n.onerror=function(){ae[i]=!1;var e=(0,X.default)({params:O,xhr:n});t(new ne.default({response:e})),n=null},n.onabort=function(){if(n){ae[i]=!1;var e=(0,X.default)({params:O,xhr:n});t(new te.default({response:e})),n=null}},n.ontimeout=function(){ae[i]=!1;var e=(0,X.default)({params:O,xhr:n});t(new ee.default({timeout:c,response:e})),n=null},"function"==typeof y&&n.upload&&n.upload.addEventListener("progress",function(e){e.lengthComputable&&y({event:e,total:e.total,loaded:e.loaded,percent:e.loaded/e.total*100})}),"function"==typeof p&&p({params:O,xhr:n}),ie(i)){var l=(0,X.default)({params:O,xhr:n});t(new re.default({response:l}))}else ae[i]=!0,n.send(a)})};var X=ue(t),$=ue(f),ee=ue(b),te=ue(w),re=ue(T),ne=ue(L),oe=ue(K);function ue(e){return e&&e.__esModule?e:{default:e}}var ae={};function ie(e){return!!ae[e]}var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,se.default)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(r,!0).forEach(function(t){pe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{method:"POST"}))};var fe,se=(fe=Z)&&fe.__esModule?fe:{default:fe};function le(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var de={};Object.defineProperty(de,"__esModule",{value:!0}),de.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,me.default)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(r,!0).forEach(function(t){_e(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{method:"GET"}))};var ye,me=(ye=Z)&&ye.__esModule?ye:{default:ye};function be(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function _e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Object.defineProperty(Oe,"request",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(Oe,"post",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(Oe,"get",{enumerable:!0,get:function(){return ge.default}}),Oe.default=void 0;var he=Ee(Z),ve=Ee(ce),ge=Ee(de);function Ee(e){return e&&e.__esModule?e:{default:e}}var we=he.default;Oe.default=we;var Re={};function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e){var t="function"==typeof Map?new Map:void 0;return(Se=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,r){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&Me(o,r.prototype),o}).apply(null,arguments)}(e,arguments,Ce(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Me(n,e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=void 0;var Te=function(t){function r(t){var n,o,u=t.message,a=t.name,i=void 0===a?"CommandError":a,c=t.type,f=void 0===c?e.UNDEFINED_ERROR:c;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this,(n=!(o=Ce(r).call(this,u))||"object"!==je(o)&&"function"!=typeof o?Pe(this):o).name=i,n.type=f,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(Pe(n),n.constructor):n.stack=new Error(u).stack,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(r,Se(Error)),r}();Re.default=Te;var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0;var Ue,De=(Ue=Re)&&Ue.__esModule?Ue:{default:Ue};function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Le=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Ie(r).call(this,{name:"UnsupportedCommandError",type:e.UNSUPPORTED_COMMAND_ERROR,message:"Unsupported command [".concat(t,"].")}))||"object"!==ke(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(r,De.default),r}();Ne.default=Le;var xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0;var We,Fe=(We=Re)&&We.__esModule?We:{default:We};function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ke=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=ze(r).call(this,{name:"InvalidCommandError",type:e.INVALID_COMMAND_ERROR,message:"Command must contain [command] and [parse] properties."}))||"object"!==Ge(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(r,Fe.default),r}();xe.default=Ke;var qe={};Object.defineProperty(qe,"__esModule",{value:!0}),qe.default=function(e){if(!e.command||!e.parse||"function"!=typeof e.parse)throw new Ye.default;Be[e.command]=e},qe.usedCommands=void 0;var Ve,Ye=(Ve=xe)&&Ve.__esModule?Ve:{default:Ve},Be={};qe.usedCommands=Be;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var Je,Ze=(Je=Re)&&Je.__esModule?Je:{default:Je};function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tt=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=$e(r).call(this,{name:"UnsupportedParserError",type:e.UNSUPPORTED_PARSER_ERROR,message:"The command parser for [".concat(t,"] is not yet supported.")}))||"object"!==Xe(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(r,Ze.default),r}();Qe.default=tt;var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=function(e){var t=e.command,r=e.response,n=e.args;if(!qe.usedCommands[t])throw new ot.default(t);return qe.usedCommands[t].parse({args:n,response:r})};var nt,ot=(nt=Qe)&&nt.__esModule?nt:{default:nt},ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.default=void 0;var at,it=(at=Re)&&at.__esModule?at:{default:at};function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lt=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=ft(r).call(this,{name:"CouldNotUploadError",type:e.COULD_NOT_UPLOAD_ERROR,message:"Could not upload [".concat(t,"].")}))||"object"!==ct(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(r,it.default),r}();ut.default=lt;var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.default=function(e){var t=e.path,r=e.line,n=e.getSize,o=r,u=r.split(" "),a=n?parseInt(u.pop()):void 0;return{name:o=u.join(" "),size:a,type:"file",parent:t,path:"".concat(t,"/").concat(o),extension:o.split(".").pop()}};var dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.uploadCommand=void 0;var yt=bt(ut),mt=bt(pt);function bt(e){return e&&e.__esModule?e:{default:e}}var _t={command:"upload",usage:"upload <file>",description:"Saves a stream of text to the named file",parse:function(e){var t=e.args,r=e.response,n=t[0],o=t[1],u=t[2];if(!r.startsWith("OK"))throw new yt.default("".concat(u,"/").concat(n));return(0,mt.default)({path:u,line:"".concat(n," ").concat(o.size),getSize:!0})}};dt.uploadCommand=_t;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.address,r=e.file,n=e.name,o=e.path,u=void 0===o?"/sd":o,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["address","file","name","path"]);"string"==typeof r&&("\n"!==(r=r.replace(/\r\n/g,"\n"))[r.length-1]&&(r+="\n"),r=new Blob([r],{type:"text/plain"})),n=n.replace(/^\/|\/$/g,""),u=u.replace(/^\/|\/$/g,"");var i="/".concat(u,"/").concat(n),c=i.split("/");n=c.pop(),u=c.join("/"),i=i.replace(/^\/sd\//,"");var f=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(r,!0).forEach(function(t){wt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},a,{address:t,file:r,name:n,path:u,headers:[["X-Filename",i]],url:"http://".concat(t,"/upload"),data:r,validateStatus:function(e){return e>=200&&e<300||503===e}});return(0,vt.default)(f).then(function(e){try{e.data=dt.uploadCommand.parse({command:"upload",args:[n,r,u],response:e.text.trim()})}catch(t){throw new ht.default({type:t.type||t.name,message:t.message,parentError:t,response:e})}return e})};var ht=gt(r),vt=gt(ce);function gt(e){return e&&e.__esModule?e:{default:e}}function Et(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function wt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=void 0;var jt,Pt=(jt=Re)&&jt.__esModule?jt:{default:jt};function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tt=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Mt(r).call(this,{name:"FileNotFoundError",type:e.FILE_NOT_FOUND_ERROR,message:"File not found [".concat(t,"].")}))||"object"!==St(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(r,Pt.default),r}();Rt.default=Tt;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.catCommand=void 0;var Ut,Dt=(Ut=Rt)&&Ut.__esModule?Ut:{default:Ut},kt={command:"cat",usage:"cat <file> [limit]",description:"Output the contents of a file",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("File not found"))throw new Dt.default(t[0]||null);return{contents:r}}};Nt.catCommand=kt;var It={};Object.defineProperty(It,"__esModule",{value:!0}),It.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.address,r=e.file,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(r,!0).forEach(function(t){Ft(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["address","file"]),{address:t,file:r=r.replace(/^\/|\/$/g,""),url:"http://".concat(t,"/").concat(r)});return(0,Lt.default)(n).then(function(e){try{e.data=Nt.catCommand.parse({command:"cat",args:[r],response:e.text.trim()})}catch(t){throw new At.default({type:t.type||t.name,message:t.message,parentError:t,response:e})}return e})};var At=xt(r),Lt=xt(de);function xt(e){return e&&e.__esModule?e:{default:e}}function Wt(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function Ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.address,r=e.command,n=e.args,o=void 0===n?[]:n,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["address","command","args"]),a=o.length?" ".concat(o.join(" ")):"",i=Xt({},u,{address:t,command:r,args:o,url:"http://".concat(t,"/command"),data:"".concat(r).concat(a,"\n")});if("break"===r){(0,qt.default)(i);var c=(0,Kt.default)({params:i,xhr:new XMLHttpRequest});return Promise.resolve(Xt({},c,{data:{message:"Entering MRI debug mode..."}}))}if("cat"===r)return(0,Qt.default)(Xt({},i,{file:o[0]||void 0}));if("upload"===r){var f=o[0]||void 0,s=o[1]||void 0,l=o[2]||void 0,p=3;return 2===o.length&&(l=s,s=f,f=void 0,p=2),"string"==typeof l&&(l=o.slice(p).join(" ")),(0,Bt.default)(Xt({},i,{name:s,file:l,path:f}))}return(0,qt.default)(i).then(function(e){try{if(e.text=e.text.trim(),e.text.startsWith("error:Unsupported command"))throw new zt.default(r);e.data=(0,Yt.default)({command:r,args:o,response:e.text.trim()})}catch(t){throw new Ht.default({type:t.type||t.name,message:t.message,parentError:t,response:e})}return e})},Object.defineProperty(Gt,"use",{enumerable:!0,get:function(){return Vt.default}});var zt=Jt(Ne),Ht=Jt(r),Kt=Jt(t),qt=Jt(ce),Vt=Jt(qe),Yt=Jt(rt),Bt=Jt(Ot),Qt=Jt(It);function Jt(e){return e&&e.__esModule?e:{default:e}}function Zt(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zt(r,!0).forEach(function(t){$t(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var er={};Object.defineProperty(er,"__esModule",{value:!0}),Object.defineProperty(er,"command",{enumerable:!0,get:function(){return tr.default}}),Object.defineProperty(er,"upload",{enumerable:!0,get:function(){return rr.default}}),er.default=void 0;var tr=nr(Gt),rr=nr(Ot);function nr(e){return e&&e.__esModule?e:{default:e}}var or=tr.default;er.default=or;var ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.default=void 0;var ar,ir=(ar=Re)&&ar.__esModule?ar:{default:ar};function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lr=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=fr(r).call(this,{name:"NotCurrentlyPlayingError",type:e.NOT_CURRENTLY_PLAYING_ERROR,message:"Not currently playing."}))||"object"!==cr(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(r,ir.default),r}();ur.default=lr;var pr={};Object.defineProperty(pr,"__esModule",{value:!0}),pr.default=void 0;var dr,yr=(dr=Re)&&dr.__esModule?dr:{default:dr};function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _r(e,t){return(_r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Or=function(t){function r(t,n){var o,u,a;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),(u=this,a=br(r).call(this,{name:"UnknownResponseError",type:e.UNKNOWN_RESPONSE_ERROR,message:"Unknown response.\nUsage: ".concat(t)}),o=!a||"object"!==mr(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(u):a).parentError=n||null,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_r(e,t)}(r,yr.default),r}();pr.default=Or;var hr={};Object.defineProperty(hr,"__esModule",{value:!0}),hr.abortCommand=void 0;var vr=Er(ur),gr=Er(pr);function Er(e){return e&&e.__esModule?e:{default:e}}var wr={command:"abort",usage:"abort",description:"Abort currently playing file",parse:function(e){e.args;var t=e.response;if(t.startsWith("Not currently playing"))throw new vr.default;if(!t.startsWith("Aborted playing"))throw new gr.default("abort");return{message:t}}};hr.abortCommand=wr;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.breakCommand=void 0;Rr.breakCommand={command:"break",usage:"break",description:"Enter in MRI mode",parse:function(e){return e.args,e.response,{}}};var jr={};Object.defineProperty(jr,"__esModule",{value:!0}),jr.default=void 0;var Pr,Sr=(Pr=Re)&&Pr.__esModule?Pr:{default:Pr};function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tr(e,t){return(Tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nr=function(t){function r(t,n){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),o=this,!(u=Cr(r).call(this,{name:"InvalidArgumentsError",type:e.INVALID_ARGUMENTS_ERROR,message:"Invalid arguments [".concat(t.join(" "),"].\nUsage: ").concat(n)}))||"object"!==Mr(u)&&"function"!=typeof u?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):u;var o,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tr(e,t)}(r,Sr.default),r}();jr.default=Nr;var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.calcThermistorCommand=void 0;var Dr=Ir(pr),kr=Ir(jr);function Ir(e){return e&&e.__esModule?e:{default:e}}var Ar="calc_thermistor <T1,R1,T2,R2,T3,R3>",Lr=/Steinhart Hart coefficients: {2}I([0-9.]+) J([0-9.]+) K([0-9.]+)/,xr=/Setting Thermistor/,Wr={command:"calc_thermistor",usage:Ar,description:"Calculate the Steinhart Hart coefficients",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("Usage:"))throw new kr.default(t,Ar);var n=r.match(Lr);if(!n)throw new Dr.default(Ar);return{I:n[1],J:n[2],K:n[3],saved:!!r.match(xr)}}};Ur.calcThermistorCommand=Wr;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.default=void 0;var Gr,zr=(Gr=Re)&&Gr.__esModule?Gr:{default:Gr};function Hr(e){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qr(e,t){return(qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vr=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Kr(r).call(this,{name:"CouldNotOpenError",type:e.COULD_NOT_OPEN_ERROR,message:"Could not open [".concat(t,"].")}))||"object"!==Hr(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}(r,zr.default),r}();Fr.default=Vr;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.cdCommand=void 0;var Br=Jr(pr),Qr=Jr(Fr);function Jr(e){return e&&e.__esModule?e:{default:e}}var Zr={command:"cd",usage:"cd <path>",description:"Change current absolute path to provided path",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("Could not open directory"))throw new Qr.default(t[0]||null);if(""!==r)throw new Br.default("cd <path>");return{cwd:t[0]}}};Yr.cdCommand=Zr;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.default=void 0;var $r,en=($r=Re)&&$r.__esModule?$r:{default:$r};function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var on=function(t){function r(t,n){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),o=this,!(u=rn(r).call(this,{name:"UndefinedSettingError",type:e.UNDEFINED_SETTING_ERROR,message:"Undefined setting [".concat(t,"].\nUsage: ").concat(n)}))||"object"!==tn(u)&&"function"!=typeof u?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):u;var o,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(r,en.default),r}();Xr.default=on;var un={};Object.defineProperty(un,"__esModule",{value:!0}),un.configGetCommand=void 0;var an=sn(jr),cn=sn(Xr),fn=sn(pr);function sn(e){return e&&e.__esModule?e:{default:e}}var ln="config-get [local|sd|cache] <setting>",pn={command:"config-get",usage:ln,description:"Get config setting value from the specified source",parse:function(e){var t=e.args,r=e.response,n="cache",o=t[0]||null;if(t.length>1&&(n=o,o=t[1]||null),!r.length)throw new an.default(t,ln);if(r.endsWith("is not in config"))throw new cn.default("".concat(n,":").concat(o),ln);var u=r.match(/([^:]+): ([^ ]+) is set to (.+)/);if(!u)throw new fn.default(ln);return{source:n,setting:o,value:u[3]}}};un.configGetCommand=pn;var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.configLoadCommand=void 0;var yn=bn(jr),mn=bn(pr);function bn(e){return e&&e.__esModule?e:{default:e}}var _n="config-load <load|unload|dump|checksum>",On={command:"config-load",usage:_n,description:"Load config values from the specified source",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("unsupported option:"))throw new yn.default(t,_n);try{return function(e,t){var r={};if("dump"===e)r={dump:t.split("\n")};else if("checksum"===e){var n=t.slice(11).split("=");r={value:n[0].trim(),checksum:n[1].trim()}}else r={message:t};return r}(t[0],r)}catch(n){throw new mn.default(_n,n)}}};dn.configLoadCommand=On;var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.default=void 0;var vn,gn=(vn=Re)&&vn.__esModule?vn:{default:vn};function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jn=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=wn(r).call(this,{name:"NotEnoughSpaceError",type:e.NOT_ENOUGH_SPACE_ERROR,message:"Not enough space to overwrite [".concat(t,"].")}))||"object"!==En(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(r,gn.default),r}();hn.default=jn;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.configSetCommand=void 0;var Sn=Nn(jr),Mn=Nn(Xr),Cn=Nn(hn),Tn=Nn(pr);function Nn(e){return e&&e.__esModule?e:{default:e}}var Un="config-set <source> <setting> <value>",Dn={command:"config-set",usage:Un,description:"Set value to the specified source setting",parse:function(e){var t=e.args,r=e.response,n=t[0]||null,o=t[1]||null;if(r.startsWith("Usage:"))throw new Sn.default(t,Un);if(r.endsWith("source does not exist"))throw new Mn.default("".concat(n,":").concat(o),Un);if(r.endsWith("not enough space"))throw new Cn.default("".concat(n,":").concat(o));var u=r.match(/([^:]+): ([^ ]+) has been set to (.+)/);if(!u)throw new Tn.default(Un);return{source:n,setting:o,value:u[3]}}};Pn.configSetCommand=Dn;var kn={};Object.defineProperty(kn,"__esModule",{value:!0}),kn.dfuCommand=void 0;var In,An=(In=pr)&&In.__esModule?In:{default:In},Ln={command:"dfu",usage:"dfu",description:"Entering boot mode",parse:function(e){e.args;var t=e.response;if(!t.startsWith("Entering boot mode"))throw new An.default("dfu");return{message:t}}};kn.dfuCommand=Ln;var xn={};Object.defineProperty(xn,"__esModule",{value:!0}),xn.echoCommand=void 0;xn.echoCommand={command:"echo",usage:"echo <message>",description:"Echo echo echo...",parse:function(e){return e.args,{message:e.response}}};var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.default=void 0;var Fn,Gn=(Fn=Re)&&Fn.__esModule?Fn:{default:Fn};function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qn=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Hn(r).call(this,{name:"MinimalDurationError",type:e.MINIMAL_DURATION_ERROR,message:"Minimal duration is [".concat(t,"] ms.")}))||"object"!==zn(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}(r,Gn.default),r}();Wn.default=qn;var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.default=void 0;var Yn,Bn=(Yn=Re)&&Yn.__esModule?Yn:{default:Yn};function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xn=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=Jn(r).call(this,{name:"NoLaserModuleError",type:e.NO_LASER_MODULE_ERROR,message:"No laser module, edit config file to enable."}))||"object"!==Qn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(r,Bn.default),r}();Vn.default=Xn;var $n={};Object.defineProperty($n,"__esModule",{value:!0}),$n.fireCommand=void 0;var eo=no(pr),to=no(Wn),ro=no(Vn);function no(e){return e&&e.__esModule?e:{default:e}}var oo="fire <power|off|status> [duration]",uo={command:"fire",usage:oo,description:"Fire laser manualy",parse:function(e){e.args;var t=e.response;if(t.startsWith("Usage:"))throw new eo.default(oo);if(""===t)throw new ro.default;var r=t.match(/Minimal duration is ([0-9]+) ms/);if(r)throw new to.default(r[1]);if(r=t.match(/laser manual state: (on|off)/)){var n="on"===r[1];return{status:r[1],on:n,off:!n}}if(t.startsWith("turning laser off"))return{power:0,fire:!1,status:"off",on:!1,off:!0};if(r=t.match(/Firing laser at ([0-9.]+)% power(, for ([0-9]+) ms)?/))return{power:parseFloat(r[1]),duration:r[2]?parseFloat(r[3]):void 0,fire:!0,status:"on",on:!0,off:!1};throw new eo.default(oo)}};$n.fireCommand=uo;var ao={};Object.defineProperty(ao,"__esModule",{value:!0}),ao.default=void 0;var io,co=(io=Re)&&io.__esModule?io:{default:io};function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function so(e){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lo(e,t){return(lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var po=function(t){function r(t,n){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),o=this,!(u=so(r).call(this,{name:"UnsupportedSubcommandError",type:e.UNSUPPORTED_SUBCOMMAND_ERROR,message:"Unsupported subcommand [".concat(t,"].\nUsage: ").concat(n)}))||"object"!==fo(u)&&"function"!=typeof u?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):u;var o,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lo(e,t)}(r,co.default),r}();ao.default=po;var yo={};Object.defineProperty(yo,"__esModule",{value:!0}),yo.getFkCommand=void 0;var mo=_o(jr),bo=_o(pr);function _o(e){return e&&e.__esModule?e:{default:e}}var Oo={command:"get fk",usage:"get fk [-m] x[,y,z]",description:"Do forward kinematics on the given actuator position and display the cartesian coordinates",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:usage:"))throw new mo.default(t,"get fk [-m] x[,y,z]");var n=r.match(/X ([0-9.]+), Y ([0-9.]+), Z ([0-9.]+)/);if(!n)throw new bo.default("get fk [-m] x[,y,z]");return{move:"string"==typeof t[0]&&!!t[0].match(/-m/i),x:parseFloat(n[1]),y:parseFloat(n[2]),z:parseFloat(n[3])}}};yo.getFkCommand=Oo;var ho={};Object.defineProperty(ho,"__esModule",{value:!0}),ho.getIkCommand=void 0;var vo=Eo(jr),go=Eo(pr);function Eo(e){return e&&e.__esModule?e:{default:e}}var wo={command:"get ik",usage:"get ik [-m] x[,y,z]",description:"Do inverse kinematics on the given cartesian position and display the actuator coordinates",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:usage:"))throw new vo.default(t,"get ik [-m] x[,y,z]");var n=r.match(/X ([0-9.]+), Y ([0-9.]+), Z ([0-9.]+)/);if(!n)throw new go.default("get ik [-m] x[,y,z]");return{move:"string"==typeof t[0]&&!!t[0].match(/-m/i),x:parseFloat(n[1]),y:parseFloat(n[2]),z:parseFloat(n[3])}}};ho.getIkCommand=wo;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.getPosCommand=void 0;var jo,Po=(jo=pr)&&jo.__esModule?jo:{default:jo};function So(e){var t=e.toLowerCase().split(":"),r=t.shift().replace(" ","_"),n=t.join(":").trim().split(" "),o={key:r,coords:{}};switch(n.forEach(function(e){e=e.split(":"),o.coords[e[0]]=parseFloat(e[1])}),r){case"last_c":o.command="M114",o.description="Position of all axes";break;case"realtime_wcs":o.command="M114.1",o.description="Real time position of all axes";break;case"mcs":o.command="M114.2",o.description="Real time machine position of all axes";break;case"apos":o.command="M114.3",o.description="Real time actuator position of all actuators";break;case"mp":o.command="M114.4",o.description="Last milestone";break;case"cmp":o.command="M114.5",o.description="Last machine position";break;default:o.command="M114.?",o.description="Unknown type"}return o}var Mo={command:"get pos",usage:"get pos",description:"Get all the various M114 variants",parse:function(e){e.args;var t=e.response;try{return t.trim().split("\n").map(So)}catch(r){throw new Po.default("get pos",r)}}};Ro.getPosCommand=Mo;var Co={};Object.defineProperty(Co,"__esModule",{value:!0}),Co.getStateCommand=void 0;var To,No=(To=pr)&&To.__esModule?To:{default:To},Uo={command:"get state",usage:"get state",description:"Get state",parse:function(e){e.args;var t=e.response;try{var r=t.trim().slice(1,-1).split(" ");return{modal:r[0],wcs:r[1],planeSelection:r[2],unit:r[3],distanceMode:r[4],pathControl:r[5],programPause:r[6],stopTool:r[7],stopCoolant:r[8],tool:r[9],feedRate:r[10],sValue:r[11]}}catch(n){throw new No.default("get state",n)}}};Co.getStateCommand=Uo;var Do={};Object.defineProperty(Do,"__esModule",{value:!0}),Do.getStatusCommand=void 0;var ko,Io=(ko=pr)&&ko.__esModule?ko:{default:ko},Ao=["Alarm","Home","Hold","Idle","Run"],Lo=["x","y","z","a","b","c"],xo=["current","requested","override"];function Wo(e,t){var r={};return e.match(/[0-9.]+/g).forEach(function(e,n){r[t[n]]=parseFloat(e)}),r}var Fo={command:"get status",usage:"get status",description:"Get status",parse:function(e){e.args;var t=e.response;try{return function(e){var t={},r=e.slice(1,-1).split("|"),n=r.shift(),o=r.shift(),u=r.shift(),a=r.shift();if(!Ao.includes(n))throw new Error("Unknown state [ ".concat(n," ]"));if(!o.startsWith("MPos:"))throw new Error("Undefined machine position");if(!u.startsWith("WPos:"))throw new Error("Undefined workspace position");if(!a.startsWith("F:"))throw new Error("Undefined feedrate");return t.state=n,t.idle="Idle"===n,t.alarm="Alarm"===n,t.homming="Home"===n,t.holding="Hold"===n,t.running=["Home","Run"].includes(n),t.machine=Wo(o,Lo),t.workspace=Wo(u,Lo),t.feedrate=Wo(a,xo),t.running&&r[0].startsWith("L:")&&r[1].startsWith("S:")&&(t.laser={power:parseFloat(r.shift().slice(2)),sValue:parseFloat(r.shift().slice(2))}),t.heaters=[],r.forEach(function(e){t.heaters.push(function(t){var r=e.match(/([^:]+):(inf|[0-9.]+),(inf|[0-9.]+)/);if(!r)throw new Error("Undefined heater");return{designator:r[1],currentTemp:"inf"===r[2]?1/0:parseFloat(r[2]),targetTemp:"inf"===r[3]?1/0:parseFloat(r[3])}}())}),t}(t)}catch(r){throw new Io.default("get status",r)}}};Do.getStatusCommand=Fo;var Go={};Object.defineProperty(Go,"__esModule",{value:!0}),Go.default=void 0;var zo,Ho=(zo=Re)&&zo.__esModule?zo:{default:zo};function Ko(e){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vo(e,t){return(Vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yo=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=qo(r).call(this,{name:"NotHeatersFoundError",type:e.NO_HEATERS_FOUND_ERROR,message:"No heaters found."}))||"object"!==Ko(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vo(e,t)}(r,Ho.default),r}();Go.default=Yo;var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.default=void 0;var Qo,Jo=(Qo=Re)&&Qo.__esModule?Qo:{default:Qo};function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xo(e){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $o(e,t){return($o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var eu=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Xo(r).call(this,{name:"UnknownDeviceError",type:e.UNKNOWN_DEVICE_ERROR,message:"Unknown device [".concat(t,"].")}))||"object"!==Zo(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$o(e,t)}(r,Jo.default),r}();Bo.default=eu;var tu={};Object.defineProperty(tu,"__esModule",{value:!0}),tu.getTempCommand=void 0;var ru=uu(Go),nu=uu(pr),ou=uu(Bo);function uu(e){return e&&e.__esModule?e:{default:e}}function au(e){var t=e.match(/([^ ]+) (\(([0-9]+)\))? ?temp: (inf|[0-9.]+)\/(inf|[0-9.]+) @([0-9]+)/);if(!t)throw new Error("Unknown heater fingerprint");var r={currentTemp:"inf"===t[4]?1/0:parseFloat(t[4]),targetTemp:"inf"===t[5]?1/0:parseFloat(t[5]),pwm:parseInt(t[6])};return t[3]?(r.id=parseInt(t[3]),r.designator=t[1]):r.name=t[1],r}var iu={command:"get temp",usage:"get temp [device]",description:"Get temperature for a device",parse:function(e){e.args;var t=e.response;if(t.startsWith("no heaters found"))throw new ru.default;if(t.endsWith("is not a known temperature device"))throw new ou.default(name);try{var r={};return"all"===name?r.devices=t.split("\n").map(au):r=au(t),r}catch(n){throw new nu.default("get temp [device]",n)}}};tu.getTempCommand=iu;var cu={};Object.defineProperty(cu,"__esModule",{value:!0}),cu.getWcsCommand=void 0;var fu,su=(fu=pr)&&fu.__esModule?fu:{default:fu},lu={command:"get wcs",usage:"get wcs",description:"Get world coordinate system",parse:function(e){e.args;var t=e.response;try{return function(e){var t=e.split("\n"),r={current:(t=t.map(function(e){return e.slice(1,-1)})).shift().split(": ").pop()};return t.forEach(function(e){var t=e.split(":"),n=t.shift().toUpperCase(),o=t.shift().split(",");"TOOL OFFSET"===n?n="tool":"PRB"===n&&(n="prob"),r[n]={x:parseFloat(o[0]),y:parseFloat(o[1]),z:parseFloat(o[2])}}),r}(t)}catch(r){throw new su.default("get wcs",r)}}};cu.getWcsCommand=lu;var pu={};Object.defineProperty(pu,"__esModule",{value:!0}),pu.getCommand=void 0;var du,yu=(du=ao)&&du.__esModule?du:{default:du},mu=["fk","ik","pos","state","status","temp","wcs"],bu="get <fk|ik|pos|state|status|temp|wcs> <...options>",_u={command:"get",usage:bu,description:"Get some values",parse:function(e){var t=e.args,r=e.response,n=t.shift();if(!mu.includes(n))throw new yu.default(n,bu);switch(n){case"fk":return yo.getFkCommand.parse({args:t,response:r});case"ik":return ho.getIkCommand.parse({args:t,response:r});case"pos":return Ro.getPosCommand.parse({args:t,response:r});case"state":return Co.getStateCommand.parse({args:t,response:r});case"status":return Do.getStatusCommand.parse({args:t,response:r});case"temp":return tu.getTempCommand.parse({args:t,response:r});case"wcs":return cu.getWcsCommand.parse({args:t,response:r})}}};pu.getCommand=_u;var Ou={};Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.helpCommand=void 0;var hu,vu=(hu=pr)&&hu.__esModule?hu:{default:hu};function gu(e){var t=e.split(" - ").map(function(e){return e.trim()});return{command:t[0],description:t[1]||""}}var Eu={command:"help",usage:"help",description:"Get some help",parse:function(e){e.args;var t=e.response;try{return{help:t.split("\n").slice(1).map(gu)}}catch(r){throw new vu.default("help",r)}}};Ou.helpCommand=Eu;var wu={};Object.defineProperty(wu,"__esModule",{value:!0}),wu.loadCommand=void 0;var Ru=Pu(pr),ju=Pu(Rt);function Pu(e){return e&&e.__esModule?e:{default:e}}var Su={command:"load",usage:"load <file>",description:"Load config values from the specified file",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("File not found: "))throw new ju.default(t[0]||null);try{return function(e){var t=e.split("\n"),r=t.shift();t.pop();var n=[],o=[],u=t.join("\n").trim();return t.forEach(function(e){(e=e.trim()).startsWith(";")?o.push(e.slice(1).trim().replace(/:$/,"")):(n.push({gcode:e,description:o.join("\n")}),o=[])}),{file:r.slice(30,-3),configText:u,config:n}}(r)}catch(n){throw new Ru.default("load <file>",n)}}};wu.loadCommand=Su;var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.default=function(e){var t=e.path,r=e.line.slice(0,-1);return{type:"folder",name:r,path:"".concat(t,"/").concat(r),parent:t}};var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.lsCommand=void 0;var Tu=ku(pr),Nu=ku(Fr),Uu=ku(Mu),Du=ku(pt);function ku(e){return e&&e.__esModule?e:{default:e}}function Iu(e,t){var r,n,o=e[0],u="-s"===e[0];return u&&(o=e[1]),r=t.split("\n").filter(function(e){return e.length}).map(function(e){return(e=e.trim()).endsWith("/")?(0,Uu.default)({path:o,line:e}):(0,Du.default)({path:o,line:e,getSize:u})}),(n=r,function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(n)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).sort(function(e,t){return e.path<t.path?-1:e.path>t.path?1:0})}var Au={command:"ls",usage:"ls [-s] <file>",description:"List directory",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("Could not open"))throw new Nu.default(t[0]||null);try{return Iu(t,r)}catch(n){throw new Tu.default("ls [-s] <file>",n)}}};Cu.lsCommand=Au;var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.md5sumCommand=void 0;var xu=Fu(pr),Wu=Fu(Rt);function Fu(e){return e&&e.__esModule?e:{default:e}}var Gu={command:"md5sum",usage:"md5sum <file>",description:"Get the md5 sum for a file",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("File not found:"))throw new Wu.default(t[0]||null);var n=r.split(" ");if(2!==n.length)throw new xu.default("md5sum <file>");return{file:t[0],hash:n[0]}}};Lu.md5sumCommand=Gu;var zu={};Object.defineProperty(zu,"__esModule",{value:!0}),zu.memCommand=void 0;var Hu,Ku=(Hu=pr)&&Hu.__esModule?Hu:{default:Hu};function qu(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function Vu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qu(r,!0).forEach(function(t){Yu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qu(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Yu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bu={command:"mem",usage:"mem [-v]",description:"Get memory informations",parse:function(e){var t=e.args,r=e.response;try{return function(e,t){var r={};e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\r\n/g,"\n").replace(/\t/g,"")).replace(/Unused Heap: ([0-9]+) bytes\n/g,function(e,t){return r.unusedHeap=parseInt(t),""})).replace(/Used Heap Size: ([0-9]+)\n/g,function(e,t){return r.usedHeap=parseInt(t),""})).replace(/Allocated: ([0-9]+), /g,function(e,t){return r.allocated=parseInt(t),""})).replace(/Free: ([0-9]+)\n/g,function(e,t){return r.free=parseInt(t),""})).replace(/Total Free RAM: ([0-9]+) bytes\n/g,function(e,t){return r.freeRAM=parseInt(t),""})).replace(/Free AHB0: ([0-9]+), /g,function(e,t){return r.freeAHB0=parseInt(t),""})).replace(/AHB1: ([0-9]+)\n/g,function(e,t){return r.freeAHB1=parseInt(t),""})).replace(/Block size: ([0-9]+) bytes, /g,function(e,t){return r.blockSize=parseInt(t),""})).replace(/Tickinfo size: ([0-9]+) bytes/g,function(e,t){return r.tickInfoSize=parseInt(t),""});var n=[],o=[],u=null;return t&&(e=(e=e.replace(/Chunk: ([0-9]+) {2}Address: ([x0-9A-F]+) {2}Size: ([0-9]+) {2}(CHUNK FREE)?\n/g,function(e,t,r,o,u){return n.push({num:t,address:r,size:parseInt(o),free:!!u}),""})).split("\n").map(function(e){return(e=(e=e.replace(/Start: ([0-9]+)b MemoryPool at ([x0-9a-f]+)/g,function(e,t,r){return u={address:r,start:parseInt(t),chunks:[],total:null,free:null},""})).replace(/Chunk at ([x0-9a-f]+) \( *([0-9]+)\): (free|used), ([0-9]+) bytes/g,function(e,t,r,n,o){return u.chunks.push({address:t,offset:parseInt(r),free:"free"===n,size:parseInt(o)}),""})).replace(/End: total ([0-9]+)b, free: ([0-9]+)b/g,function(e,t,r){return u=Vu({},u,{total:parseInt(t),free:parseInt(r)}),o.push(Vu({},u)),u=null,""})}).filter(function(e){return e.length}).join("\n").trim()),Vu({},r,{chunks:n,memoryPool:o})}(r,t[0]&&"-v"===t[0])}catch(n){throw new Ku.default("mem [-v]",n)}}};zu.memCommand=Bu;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.default=void 0;var Ju,Zu=(Ju=Re)&&Ju.__esModule?Ju:{default:Ju};function Xu(e){return(Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $u(e){return($u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ea(e,t){return(ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ta=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=$u(r).call(this,{name:"CouldNotCreateError",type:e.COULD_NOT_CREATE_ERROR,message:"Could not create [".concat(t,"].")}))||"object"!==Xu(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}(r,Zu.default),r}();Qu.default=ta;var ra={};Object.defineProperty(ra,"__esModule",{value:!0}),ra.mkdirCommand=void 0;var na,oa=(na=Qu)&&na.__esModule?na:{default:na},ua={command:"mkdir",usage:"mkdir <path>",description:"Create new directory",parse:function(e){var t=e.args;if(e.response.startsWith("could not create"))throw new oa.default(t[0]||null);return{path:t[0]}}};ra.mkdirCommand=ua;var aa={};Object.defineProperty(aa,"__esModule",{value:!0}),aa.default=void 0;var ia,ca=(ia=Re)&&ia.__esModule?ia:{default:ia};function fa(e){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sa(e){return(sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function la(e,t){return(la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pa=function(t){function r(t,n){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),o=this,!(u=sa(r).call(this,{name:"CouldNotMoveError",type:e.COULD_NOT_MOVE_ERROR,message:"Could not move [".concat(t,"] to [").concat(n,"].")}))||"object"!==fa(u)&&"function"!=typeof u?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):u;var o,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&la(e,t)}(r,ca.default),r}();aa.default=pa;var da={};Object.defineProperty(da,"__esModule",{value:!0}),da.mvCommand=void 0;var ya,ma=(ya=aa)&&ya.__esModule?ya:{default:ya},ba={command:"mv",usage:"mv <source> <target>",description:"Move a file from source to target path",parse:function(e){var t=e.args;if(e.response.startsWith("Could not rename"))throw new ma.default(t[0]||null,t[1]||null);return{source:t[0],target:t[1]}}};da.mvCommand=ba;var _a={};Object.defineProperty(_a,"__esModule",{value:!0}),_a.netCommand=void 0;var Oa,ha=(Oa=pr)&&Oa.__esModule?Oa:{default:Oa},va={command:"net",usage:"net",description:"Get network informations",parse:function(e){e.args;var t=e.response;try{return function(e){var t=e.split("\n"),r=t.shift(),n=t.shift(),o=t.shift(),u=t.shift();if(!r.startsWith("IP Addr: "))throw new Error("Undefined IP address");if(!n.startsWith("IP GW: "))throw new Error("Undefined network gateway");if(!o.startsWith("IP mask: "))throw new Error("Undefined network mask");if(!u.startsWith("MAC Address: "))throw new Error("Undefined MAC address");return{address:r.slice(9),gateway:n.slice(7),mask:o.slice(9),MAC:u.slice(13)}}(t)}catch(r){throw new ha.default("net",r)}}};_a.netCommand=va;var ga={};Object.defineProperty(ga,"__esModule",{value:!0}),ga.default=void 0;var Ea,wa=(Ea=Re)&&Ea.__esModule?Ea:{default:Ea};function Ra(e){return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pa(e,t){return(Pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sa=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=ja(r).call(this,{name:"CurrentlyPlayingError",type:e.CURRENTLY_PLAYING_ERROR,message:"Currently printing, suspend or abord first."}))||"object"!==Ra(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pa(e,t)}(r,wa.default),r}();ga.default=Sa;var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.playCommand=void 0;var Ca=Ua(ga),Ta=Ua(pr),Na=Ua(Rt);function Ua(e){return e&&e.__esModule?e:{default:e}}var Da={command:"play",usage:"play <file>",description:"Play file from SD card",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("Currently printing"))throw new Ca.default;if(r.startsWith("File not found"))throw new Na.default(t[0]||null);if(!r.startsWith("Playing"))throw new Ta.default("play <file>");var n=t[0],o=r.match(/File size ([0-9]+)/);return{message:r,file:n,size:parseInt(o[1]||-1)}}};Ma.playCommand=Da;var ka={};Object.defineProperty(ka,"__esModule",{value:!0}),ka.default=void 0;var Ia,Aa=(Ia=Re)&&Ia.__esModule?Ia:{default:Ia};function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xa(e){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wa(e,t){return(Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fa=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=xa(r).call(this,{name:"UnknownFileSizeError",type:e.UNKNOWN_FILE_SIZE_ERROR,message:"Unknown file size."}))||"object"!==La(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wa(e,t)}(r,Aa.default),r}();ka.default=Fa;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.progressCommand=void 0;var za=qa(ur),Ha=qa(ka),Ka=qa(pr);function qa(e){return e&&e.__esModule?e:{default:e}}var Va=/SD printing byte ([0-9]+)\/([0-9]+)/,Ya=/SD print is paused at ([0-9]+)\/([0-9]+)/,Ba=/file: ([^,]+), ([0-9]+) % complete, elapsed time: ([0-9:]+)(, est time: ([0-9:]+))?/,Qa={command:"progress",usage:"progress [-b]",description:"Get SD or File playing progression",parse:function(e){e.args;var t=e.response;if(t.startsWith("Not currently playing"))throw new za.default;if(t.startsWith("File size is unknown"))throw new Ha.default;var r=t.match(Va);if(r){var n=parseInt(r[1]),o=parseInt(r[2]);return{loaded:n,total:o,percent:Math.round(100*n/o)}}var u=t.match(Ya);if(u)return{loaded:parseInt(u[1]),total:parseInt(u[2])};var a=t.match(Ba);if(a)return{file:a[1],percent:parseInt(a[2]),elapsedTime:a[3],estimatedTime:a[5]||1/0};throw new Ka.default("progress [-b]")}};Ga.progressCommand=Qa;var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.pwdCommand=void 0;Ja.pwdCommand={command:"pwd",usage:"pwd",description:"Get (print) current working directory",parse:function(e){return e.args,{path:e.response}}};var Za={};Object.defineProperty(Za,"__esModule",{value:!0}),Za.remountCommand=void 0;Za.remountCommand={command:"remount",usage:"remount",description:"Remount SD card",parse:function(e){return e.args,{message:e.response}}};var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.resetCommand=void 0;Xa.resetCommand={command:"reset",usage:"reset",description:"Reset the board",parse:function(e){return e.args,{message:e.response}}};var $a={};Object.defineProperty($a,"__esModule",{value:!0}),$a.default=void 0;var ei,ti=(ei=Re)&&ei.__esModule?ei:{default:ei};function ri(e){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oi(e,t){return(oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ui=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=ni(r).call(this,{name:"NotSuspendedError",type:e.NOT_SUSPENDED_ERROR,message:"Not suspended play."}))||"object"!==ri(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oi(e,t)}(r,ti.default),r}();$a.default=ui;var ai={};Object.defineProperty(ai,"__esModule",{value:!0}),ai.default=void 0;var ii,ci=(ii=Re)&&ii.__esModule?ii:{default:ii};function fi(e){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function si(e){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function li(e,t){return(li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pi=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=si(r).call(this,{name:"KillError",type:e.KILL_ERROR,message:"KILLED"}))||"object"!==fi(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&li(e,t)}(r,ci.default),r}();ai.default=pi;var di={};Object.defineProperty(di,"__esModule",{value:!0}),di.resumeCommand=void 0;var yi=_i(pr),mi=_i($a),bi=_i(ai);function _i(e){return e&&e.__esModule?e:{default:e}}var Oi={command:"resume",usage:"resume",description:"Resume the suspended print",parse:function(e){e.args;var t=e.response;if(t.startsWith("Not suspended"))throw new mi.default;if(t.match(/Resume aborted by kill/))throw new bi.default;if(!t.match(/Resuming print/))throw new yi.default("resume");return{logs:t.split("\n")}}};di.resumeCommand=Oi;var hi={};Object.defineProperty(hi,"__esModule",{value:!0}),hi.default=void 0;var vi,gi=(vi=Re)&&vi.__esModule?vi:{default:vi};function Ei(e){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wi(e){return(wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ri(e,t){return(Ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ji=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=wi(r).call(this,{name:"CouldNotDeleteError",type:e.COULD_NOT_DELETE_ERROR,message:"Could not delete [".concat(t,"].")}))||"object"!==Ei(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ri(e,t)}(r,gi.default),r}();hi.default=ji;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.rmCommand=void 0;var Si,Mi=(Si=hi)&&Si.__esModule?Si:{default:Si},Ci={command:"rm",usage:"rm <file>",description:"Remove a file or an empty folder",parse:function(e){var t=e.args;if(e.response.startsWith("Could not delete"))throw new Mi.default(t[0]||null);return{path:t[0]}}};Pi.rmCommand=Ci;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.saveCommand=void 0;var Ni,Ui=(Ni=pr)&&Ni.__esModule?Ni:{default:Ni},Di={command:"save",usage:"save <file>",description:"Saves the specified config-override file",parse:function(e){e.args;var t=e.response;if(!t.startsWith("Settings Stored to "))throw new Ui.default("save <file>");return{file:t.slice(19)}}};Ti.saveCommand=Di;var ki={};Object.defineProperty(ki,"__esModule",{value:!0}),ki.setTempCommand=void 0;var Ii,Ai=(Ii=Bo)&&Ii.__esModule?Ii:{default:Ii},Li={command:"set_temp",usage:"set_temp <device> <value>",description:"Set device temperature",parse:function(e){var t=e.args;if(e.response.endsWith("is not a known temperature device"))throw new Ai.default(t[0]||null);return{device:t[0],value:parseFloat(t[1])}}};ki.setTempCommand=Li;var xi={};Object.defineProperty(xi,"__esModule",{value:!0}),xi.default=void 0;var Wi,Fi=(Wi=Re)&&Wi.__esModule?Wi:{default:Wi};function Gi(e){return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hi(e,t){return(Hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ki=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=zi(r).call(this,{name:"AlreadySuspendedError",type:e.ALREADY_SUSPENDED_ERROR,message:"Already suspended."}))||"object"!==Gi(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hi(e,t)}(r,Fi.default),r}();xi.default=Ki;var qi={};Object.defineProperty(qi,"__esModule",{value:!0}),qi.suspendCommand=void 0;var Vi=Bi(xi),Yi=Bi(pr);function Bi(e){return e&&e.__esModule?e:{default:e}}var Qi={command:"suspend",usage:"suspend",description:"Suspend a print in progress",parse:function(e){e.args;var t=e.response;if(t.startsWith("Already suspended"))throw new Vi.default;if(!t.startsWith("// Suspending print"))throw new Yi.default("suspend");return{message:t}}};qi.suspendCommand=Qi;var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.switchCommand=void 0;var Zi=$i(pr),Xi=$i(Bo);function $i(e){return e&&e.__esModule?e:{default:e}}var ec={command:"switch",usage:"switch <name> [onf|off]",description:"Set or get switch state for a named switch",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("unknown switch")||r.endsWith("is not a known switch device"))throw new Xi.default(t[0]||null);var n=r.match(/switch (.*) (?:is|set to:) (.*)/);if(!n||r.startsWith("must be"))throw new Zi.default("switch <name> [onf|off]");var o=n[2];return"0"===n[2]?o="off":"1"===n[2]&&(o="on"),{name:n[1],value:o}}};Ji.switchCommand=ec;var tc={};Object.defineProperty(tc,"__esModule",{value:!0}),tc.testCircleCommand=void 0;var rc,nc=(rc=jr)&&rc.__esModule?rc:{default:rc},oc="test circle <radius> <iterations> [feedrate]",uc={command:"test circle",usage:oc,description:"Draws a circle around origin",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:"))throw new nc.default(t,oc);return{gcode:r.split("\n").slice(0,-1)}}};tc.testCircleCommand=uc;var ac={};Object.defineProperty(ac,"__esModule",{value:!0}),ac.testSquareCommand=void 0;var ic,cc=(ic=jr)&&ic.__esModule?ic:{default:ic},fc="test square <size> <iterations> [feedrate]",sc={command:"test square",usage:fc,description:"Draws a square from origin",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:"))throw new cc.default(t,fc);return{gcode:r.split("\n").slice(0,-1)}}};ac.testSquareCommand=sc;var lc={};Object.defineProperty(lc,"__esModule",{value:!0}),lc.testJogCommand=void 0;var pc,dc=(pc=jr)&&pc.__esModule?pc:{default:pc},yc="test jog <axis> <distance> <iterations> [feedrate]",mc={command:"test jog",usage:yc,description:"Jogs back and forth from origin",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:"))throw new dc.default(t,yc);return{gcode:r.split("\n").slice(0,-1)}}};lc.testJogCommand=mc;var bc={};Object.defineProperty(bc,"__esModule",{value:!0}),bc.testRawCommand=void 0;var _c,Oc=(_c=jr)&&_c.__esModule?_c:{default:_c},hc="test raw <axis> <steps> <speed>",vc={command:"test raw",usage:hc,description:"Issues raw steps to the specified axis",parse:function(e){var t=e.args;if(e.response.startsWith("error:"))throw new Oc.default(t,hc);return{axis:t[0],steps:parseInt(t[1]),speed:parseInt(t[2])}}};bc.testRawCommand=vc;var gc={};Object.defineProperty(gc,"__esModule",{value:!0}),gc.testCommand=void 0;var Ec,wc=(Ec=ao)&&Ec.__esModule?Ec:{default:Ec},Rc="test <square|circle|jog|raw> <...options>",jc=["circle","square","jog","raw"],Pc={command:"test",usage:Rc,description:"Execute some tests",parse:function(e){var t=e.args,r=e.response,n=t.shift();if(!jc.includes(n))throw new wc.default(n,Rc);switch(n){case"square":return ac.testSquareCommand.parse({args:t,response:r});case"circle":return tc.testCircleCommand.parse({args:t,response:r});case"jog":return lc.testJogCommand.parse({args:t,response:r});case"raw":return bc.testRawCommand.parse({args:t,response:r})}}};gc.testCommand=Pc;var Sc={};Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.thermistorsCommand=void 0;var Mc,Cc=(Mc=pr)&&Mc.__esModule?Mc:{default:Mc},Tc={command:"thermistors",usage:"thermistors",description:"Get predefined thermistors",parse:function(e){e.args;var t=e.response;try{return function(e){var t=e.split("\n");t.shift();var r=[],n=[],o=r;return t.forEach(function(e){if(e.startsWith("Beta table"))o=n;else{var t=e.split("-");o.push({id:parseInt(t[0].trim()),name:t[1].trim()})}}),{table:r,beta:n}}(t)}catch(r){throw new Cc.default("thermistors",r)}}};Sc.thermistorsCommand=Tc;var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.versionCommand=void 0;var Uc,Dc=(Uc=pr)&&Uc.__esModule?Uc:{default:Uc},kc=/Build version: ([^,]+), Build date: ([^,]+), MCU: ([^,]+), System Clock: ([^\n]+)\n?(([0-5]) axis)?/m,Ic={command:"version",usage:"version",description:"Get firmware version",parse:function(e){e.args;var t=e.response.match(kc);if(!t)throw new Dc.default("version");var r=t[1].split("-"),n={branch:r[0].trim(),hash:r[1].trim(),date:t[2].trim(),mcu:t[3].trim(),clock:t[4].trim()};return t[5]&&(n.axis=parseInt(t[6])),n}};Nc.versionCommand=Ic;var Ac={};Object.defineProperty(Ac,"__esModule",{value:!0}),Object.keys(hr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return hr[e]}})}),Object.keys(Rr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Rr[e]}})}),Object.keys(Ur).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Ur[e]}})}),Object.keys(Nt).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Nt[e]}})}),Object.keys(Yr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Yr[e]}})}),Object.keys(un).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return un[e]}})}),Object.keys(dn).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return dn[e]}})}),Object.keys(Pn).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Pn[e]}})}),Object.keys(kn).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return kn[e]}})}),Object.keys(xn).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return xn[e]}})}),Object.keys($n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return $n[e]}})}),Object.keys(pu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return pu[e]}})}),Object.keys(yo).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return yo[e]}})}),Object.keys(ho).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return ho[e]}})}),Object.keys(Ro).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Ro[e]}})}),Object.keys(Co).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Co[e]}})}),Object.keys(Do).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Do[e]}})}),Object.keys(tu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return tu[e]}})}),Object.keys(cu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return cu[e]}})}),Object.keys(Ou).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Ou[e]}})}),Object.keys(wu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return wu[e]}})}),Object.keys(Cu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Cu[e]}})}),Object.keys(Lu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Lu[e]}})}),Object.keys(zu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return zu[e]}})}),Object.keys(ra).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return ra[e]}})}),Object.keys(da).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return da[e]}})}),Object.keys(_a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return _a[e]}})}),Object.keys(Ma).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Ma[e]}})}),Object.keys(Ga).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Ga[e]}})}),Object.keys(Ja).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Ja[e]}})}),Object.keys(Za).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Za[e]}})}),Object.keys(Xa).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Xa[e]}})}),Object.keys(di).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return di[e]}})}),Object.keys(Pi).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Pi[e]}})}),Object.keys(Ti).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Ti[e]}})}),Object.keys(ki).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return ki[e]}})}),Object.keys(qi).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return qi[e]}})}),Object.keys(Ji).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Ji[e]}})}),Object.keys(tc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return tc[e]}})}),Object.keys(gc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return gc[e]}})}),Object.keys(lc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return lc[e]}})}),Object.keys(bc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return bc[e]}})}),Object.keys(ac).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return ac[e]}})}),Object.keys(Sc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Sc[e]}})}),Object.keys(dt).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return dt[e]}})}),Object.keys(Nc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Ac,e,{enumerable:!0,get:function(){return Nc[e]}})});var Lc={};Object.defineProperty(Lc,"__esModule",{value:!0}),Object.defineProperty(Lc,"parse",{enumerable:!0,get:function(){return Wc.default}}),Lc.commands=void 0;var xc=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(Ac);Lc.commands=xc;var Wc=Gc(rt),Fc=Gc(qe);function Gc(e){return e&&e.__esModule?e:{default:e}}Object.values(xc).map(Fc.default);var zc={};Object.defineProperty(zc,"__esModule",{value:!0});var Hc={errorTypes:!0};zc.errorTypes=void 0;var Kc=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(e);zc.errorTypes=Kc,Object.keys(Oe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(Hc,e)||Object.defineProperty(zc,e,{enumerable:!0,get:function(){return Oe[e]}}))}),Object.keys(er).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(Hc,e)||Object.defineProperty(zc,e,{enumerable:!0,get:function(){return er[e]}}))}),Object.keys(Lc).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(Hc,e)||Object.defineProperty(zc,e,{enumerable:!0,get:function(){return Lc[e]}}))});var qc=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(zc);window.smoothieCommands=qc}();