!function(){var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.SERVER_ERROR=e.PARALLEL_REQUEST_ERROR=e.REQUEST_TIMEOUT_ERROR=e.REQUEST_OPEN_ERROR=e.REQUEST_ABORTED_ERROR=e.NETWORK_ERROR=e.UNSUPPORTED_SUBCOMMAND_ERROR=e.UNSUPPORTED_PARSER_ERROR=e.UNSUPPORTED_COMMAND_ERROR=e.UNKNOWN_RESPONSE_ERROR=e.UNKNOWN_FILE_SIZE_ERROR=e.UNKNOWN_DEVICE_ERROR=e.UNDEFINED_SETTING_ERROR=e.UNDEFINED_ERROR=e.NO_LASER_MODULE_ERROR=e.NO_HEATERS_FOUND_ERROR=e.NOT_SUSPENDED_ERROR=e.NOT_ENOUGH_SPACE_ERROR=e.NOT_CURRENTLY_PLAYING_ERROR=e.MINIMAL_DURATION_ERROR=e.KILL_ERROR=e.INVALID_COMMAND_ERROR=e.INVALID_ARGUMENTS_ERROR=e.FILE_NOT_FOUND_ERROR=e.CURRENTLY_PLAYING_ERROR=e.COULD_NOT_UPLOAD_ERROR=e.COULD_NOT_OPEN_ERROR=e.COULD_NOT_MOVE_ERROR=e.COULD_NOT_DELETE_ERROR=e.COULD_NOT_CREATE_ERROR=e.ALREADY_SUSPENDED_ERROR=void 0,e.ALREADY_SUSPENDED_ERROR="ALREADY_SUSPENDED_ERROR",e.COULD_NOT_CREATE_ERROR="COULD_NOT_CREATE_ERROR",e.COULD_NOT_DELETE_ERROR="COULD_NOT_DELETE_ERROR",e.COULD_NOT_MOVE_ERROR="COULD_NOT_MOVE_ERROR",e.COULD_NOT_OPEN_ERROR="COULD_NOT_OPEN_ERROR",e.COULD_NOT_UPLOAD_ERROR="COULD_NOT_UPLOAD_ERROR",e.CURRENTLY_PLAYING_ERROR="CURRENTLY_PLAYING_ERROR",e.FILE_NOT_FOUND_ERROR="FILE_NOT_FOUND_ERROR",e.INVALID_ARGUMENTS_ERROR="INVALID_ARGUMENTS_ERROR",e.INVALID_COMMAND_ERROR="INVALID_COMMAND_ERROR",e.KILL_ERROR="KILL_ERROR",e.MINIMAL_DURATION_ERROR="MINIMAL_DURATION_ERROR",e.NOT_CURRENTLY_PLAYING_ERROR="NOT_CURRENTLY_PLAYING_ERROR",e.NOT_ENOUGH_SPACE_ERROR="NOT_ENOUGH_SPACE_ERROR",e.NOT_SUSPENDED_ERROR="NOT_SUSPENDED_ERROR",e.NO_HEATERS_FOUND_ERROR="NO_HEATERS_FOUND_ERROR",e.NO_LASER_MODULE_ERROR="NO_LASER_MODULE_ERROR",e.UNDEFINED_ERROR="UNDEFINED_ERROR",e.UNDEFINED_SETTING_ERROR="UNDEFINED_SETTING_ERROR",e.UNKNOWN_DEVICE_ERROR="UNKNOWN_DEVICE_ERROR",e.UNKNOWN_FILE_SIZE_ERROR="UNKNOWN_FILE_SIZE_ERROR",e.UNKNOWN_RESPONSE_ERROR="UNKNOWN_RESPONSE_ERROR",e.UNSUPPORTED_COMMAND_ERROR="UNSUPPORTED_COMMAND_ERROR",e.UNSUPPORTED_PARSER_ERROR="UNSUPPORTED_PARSER_ERROR",e.UNSUPPORTED_SUBCOMMAND_ERROR="UNSUPPORTED_SUBCOMMAND_ERROR",e.NETWORK_ERROR="NETWORK_ERROR",e.REQUEST_ABORTED_ERROR="REQUEST_ABORTED_ERROR",e.REQUEST_OPEN_ERROR="REQUEST_OPEN_ERROR",e.REQUEST_TIMEOUT_ERROR="REQUEST_TIMEOUT_ERROR",e.PARALLEL_REQUEST_ERROR="PARALLEL_REQUEST_ERROR",e.SERVER_ERROR="SERVER_ERROR";var t={};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,r){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o}).apply(null,arguments)}(e,arguments,a(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(t){function i(t){var o,u,c=t.message,f=t.name,s=void 0===f?"CommandError":f,l=t.type,p=void 0===l?e.UNDEFINED_ERROR:l;return function(e,t){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this),this,(o=!(u=a(i).call(this,c))||"object"!==r(u)&&"function"!=typeof u?n(this):u).name=s,o.type=p,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(n(o),o.constructor):o.stack=new Error(c).stack,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,o(Error)),i}();t.default=i;var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var f,s=(f=t)&&f.__esModule?f:{default:f};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=p(r).call(this,{name:"UnsupportedCommandError",type:e.UNSUPPORTED_COMMAND_ERROR,message:"Unsupported command [".concat(t,"].")}))||"object"!==l(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,s.default),r}();c.default=y;var m={};function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){var t="function"==typeof Map?new Map:void 0;return(O=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,r){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&h(o,r.prototype),o}).apply(null,arguments)}(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var g=function(t){function r(t){var n,o,u=t.name,a=void 0===u?"RequestError":u,i=t.type,c=void 0===i?e.UNDEFINED_ERROR:i,f=t.message,s=t.response,l=t.parentError,p=void 0===l?null:l;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this,(n=!(o=v(r).call(this,f))||"object"!==b(o)&&"function"!=typeof o?_(this):o).name=a,n.type=c,n.response=s,n.parentError=p,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(_(n),n.constructor):n.stack=new Error(f).stack,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(r,O(Error)),r}();m.default=g;var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(e){var t=e.params,r=e.xhr;return{xhr:r,params:t,data:{},text:r?r.responseText:""}};var w={};Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var R,j=(R=m)&&R.__esModule?R:{default:R};function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(t){function r(t){var n,o,u=t.message,a=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=S(r).call(this,{response:a,name:"RequestOpenError",type:e.REQUEST_OPEN_ERROR,message:u}))||"object"!==P(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(r,j.default),r}();w.default=C;var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var N,D=(N=m)&&N.__esModule?N:{default:N};function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(t){function r(t){var n,o,u=t.timeout,a=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=k(r).call(this,{response:a,name:"RequestTimeoutError",type:e.REQUEST_TIMEOUT_ERROR,message:"Timeout of [".concat(u,"] ms exceeded.")}))||"object"!==U(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(r,D.default),r}();T.default=A;var L={};Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0;var x,W=(x=m)&&x.__esModule?x:{default:x};function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(t){function r(t){var n,o,u=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=G(r).call(this,{response:u,name:"RequestAbortedError",type:e.REQUEST_ABORTED_ERROR,message:"Request aborted."}))||"object"!==F(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(r,W.default),r}();L.default=H;var q={};Object.defineProperty(q,"__esModule",{value:!0}),q.default=void 0;var K,V=(K=m)&&K.__esModule?K:{default:K};function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(t){function r(t){var n,o,u=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=B(r).call(this,{response:u,name:"ParallelRequestError",type:e.PARALLEL_REQUEST_ERROR,message:"Parallel request prohibited. Please wait for the end of a request before sending another."}))||"object"!==Y(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(r,V.default),r}();q.default=J;var Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=void 0;var X,$=(X=m)&&X.__esModule?X:{default:X};function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ne=function(t){function r(t){var n,o,u=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=te(r).call(this,{response:u,name:"NetworkError",type:e.NETWORK_ERROR,message:"Network error."}))||"object"!==ee(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(r,$.default),r}();Z.default=ne;var oe={};Object.defineProperty(oe,"__esModule",{value:!0}),oe.default=void 0;var ue,ae=(ue=m)&&ue.__esModule?ue:{default:ue};function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var se=function(t){function r(t){var n,o,u=t.status,a=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=ce(r).call(this,{response:a,name:"ServerError",type:e.SERVER_ERROR,message:"Server error [".concat(u,"].")}))||"object"!==ie(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(r,ae.default),r}();oe.default=se;var le={};Object.defineProperty(le,"__esModule",{value:!0}),le.isSent=ge,le.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.method,r=void 0===t?"POST":t,n=e.url,o=void 0===n?"/":n,u=e.data,a=void 0===u?null:u,i=e.timeout,c=void 0===i?0:i,f=e.headers,s=void 0===f?null:f,l=e.beforeSend,p=void 0===l?null:l,d=e.onUploadProgress,y=void 0===d?null:d,m=e.validateStatus,b=void 0===m?function(e){return e>=200&&e<300}:m,_=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["method","url","data","timeout","headers","beforeSend","onUploadProgress","validateStatus"]);o.startsWith("http://")||(o="http://".concat(o));var O={method:r,url:o,data:a,userData:_,timeout:c,headers:s,beforeSend:p,onUploadProgress:y,validateStatus:b};return new Promise(function(e,t){var n=new XMLHttpRequest,u=o.match(/http:\/\/([^\/]+)/),i=u?u[1]:"localhost";try{n.open(r,o,!0)}catch(d){var f=(0,pe.default)({params:O,xhr:n});return t(new de.default({message:d.message,response:f}))}if(n.timeout=c,s&&s.forEach(function(e){var t,r=(2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),2!==r.length);n=!0);}catch(c){o=!0,u=c}finally{try{n||null==i.return||i.return()}finally{if(o)throw u}}return r}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),o=r[0],u=r[1];return n.setRequestHeader(o,u)}),n.onreadystatechange=function(){if(n&&4===n.readyState&&0!==n.status){if(ve[i]=!1,b(n.status))e((0,pe.default)({params:O,xhr:n}));else{var r=(0,pe.default)({params:O,xhr:n});t(new Oe.default({status:n.status,response:r}))}n=null}},n.onerror=function(){ve[i]=!1;var e=(0,pe.default)({params:O,xhr:n});t(new _e.default({response:e})),n=null},n.onabort=function(){if(n){ve[i]=!1;var e=(0,pe.default)({params:O,xhr:n});t(new me.default({response:e})),n=null}},n.ontimeout=function(){ve[i]=!1;var e=(0,pe.default)({params:O,xhr:n});t(new ye.default({timeout:c,response:e})),n=null},"function"==typeof y&&n.upload&&n.upload.addEventListener("progress",function(e){e.lengthComputable&&y({event:e,total:e.total,loaded:e.loaded,percent:e.loaded/e.total*100})}),"function"==typeof p&&p({params:O,xhr:n}),ge(i)){var l=(0,pe.default)({params:O,xhr:n});t(new be.default({response:l}))}else ve[i]=!0,n.send(a)})};var pe=he(E),de=he(w),ye=he(T),me=he(L),be=he(q),_e=he(Z),Oe=he(oe);function he(e){return e&&e.__esModule?e:{default:e}}var ve={};function ge(e){return!!ve[e]}var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Re.default)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(r,!0).forEach(function(t){Pe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{method:"POST"}))};var we,Re=(we=le)&&we.__esModule?we:{default:we};function je(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Se={};Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Me,Ce=(Me=t)&&Me.__esModule?Me:{default:Me};function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ue=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=Ne(r).call(this,{name:"InvalidCommandError",type:e.INVALID_COMMAND_ERROR,message:"Command must contain [command] and [parse] properties."}))||"object"!==Te(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(r,Ce.default),r}();Se.default=Ue;var ke={};Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=function(e){if(!e.command||!e.parse||"function"!=typeof e.parse)throw new Ae.default;Le[e.command]=e},ke.usedCommands=void 0;var Ie,Ae=(Ie=Se)&&Ie.__esModule?Ie:{default:Ie},Le={};ke.usedCommands=Le;var xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0;var We,Fe=(We=t)&&We.__esModule?We:{default:We};function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qe=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=ze(r).call(this,{name:"UnsupportedParserError",type:e.UNSUPPORTED_PARSER_ERROR,message:"The command parser for [".concat(t,"] is not yet supported.")}))||"object"!==Ge(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(r,Fe.default),r}();xe.default=qe;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=function(e){var t=e.command,r=e.response,n=e.args;if(!ke.usedCommands[t])throw new Ye.default(t);return ke.usedCommands[t].parse({args:n,response:r})};var Ve,Ye=(Ve=xe)&&Ve.__esModule?Ve:{default:Ve},Be={};Object.defineProperty(Be,"__esModule",{value:!0}),Be.default=void 0;var Qe,Je=(Qe=t)&&Qe.__esModule?Qe:{default:Qe};function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var et=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Xe(r).call(this,{name:"CouldNotUploadError",type:e.COULD_NOT_UPLOAD_ERROR,message:"Could not upload [".concat(t,"].")}))||"object"!==Ze(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(r,Je.default),r}();Be.default=et;var tt={};Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=function(e){var t=e.path,r=e.line,n=e.getSize,o=r,u=r.split(" "),a=n?parseInt(u.pop()):void 0;return{name:o=u.join(" "),size:a,type:"file",parent:t,path:"".concat(t,"/").concat(o),extension:o.split(".").pop()}};var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.uploadCommand=void 0;var nt=ut(Be),ot=ut(tt);function ut(e){return e&&e.__esModule?e:{default:e}}var at={command:"upload",usage:"upload <file>",description:"Saves a stream of text to the named file",parse:function(e){var t=e.args,r=e.response,n=t[0],o=t[1],u=t[2];if(!r.startsWith("OK"))throw new nt.default("".concat(u,"/").concat(n));return(0,ot.default)({path:u,line:"".concat(n," ").concat(o.size),getSize:!0})}};rt.uploadCommand=at;var it={};Object.defineProperty(it,"__esModule",{value:!0}),it.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.address,r=e.file,n=e.name,o=e.path,u=void 0===o?"/sd":o,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["address","file","name","path"]);"string"==typeof r&&("\n"!==(r=r.replace(/\r\n/g,"\n"))[r.length-1]&&(r+="\n"),r=new Blob([r],{type:"text/plain"})),n=n.replace(/^\/|\/$/g,""),u=u.replace(/^\/|\/$/g,"");var i="/".concat(u,"/").concat(n),c=i.split("/");n=c.pop(),u=c.join("/"),i=i.replace(/^\/sd\//,"");var f=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(r,!0).forEach(function(t){pt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},a,{address:t,file:r,name:n,path:u,headers:[["X-Filename",i]],url:"http://".concat(t,"/upload"),data:r,validateStatus:function(e){return e>=200&&e<300||503===e}});return(0,ft.default)(f).then(function(e){try{e.data=rt.uploadCommand.parse({command:"upload",args:[n,r,u],response:e.text.trim()})}catch(t){throw new ct.default({type:t.type||t.name,message:t.message,parentError:t,response:e})}return e})};var ct=st(m),ft=st(Ee);function st(e){return e&&e.__esModule?e:{default:e}}function lt(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.default=void 0;var yt,mt=(yt=t)&&yt.__esModule?yt:{default:yt};function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ht=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=_t(r).call(this,{name:"FileNotFoundError",type:e.FILE_NOT_FOUND_ERROR,message:"File not found [".concat(t,"].")}))||"object"!==bt(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(r,mt.default),r}();dt.default=ht;var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.catCommand=void 0;var gt,Et=(gt=dt)&&gt.__esModule?gt:{default:gt},wt={command:"cat",usage:"cat <file> [limit]",description:"Output the contents of a file",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("File not found"))throw new Et.default(t[0]||null);return{contents:r}}};vt.catCommand=wt;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Pt.default)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(r,!0).forEach(function(t){Mt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{method:"GET"}))};var jt,Pt=(jt=le)&&jt.__esModule?jt:{default:jt};function St(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function Mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.address,r=e.file,n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ut(r,!0).forEach(function(t){kt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ut(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["address","file"]),{address:t,file:r=r.replace(/^\/|\/$/g,""),url:"http://".concat(t,"/").concat(r)});return(0,Nt.default)(n).then(function(e){try{e.data=vt.catCommand.parse({command:"cat",args:[r],response:e.text.trim()})}catch(t){throw new Tt.default({type:t.type||t.name,message:t.message,parentError:t,response:e})}return e})};var Tt=Dt(m),Nt=Dt(Rt);function Dt(e){return e&&e.__esModule?e:{default:e}}function Ut(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var It={};Object.defineProperty(It,"__esModule",{value:!0}),It.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.address,r=e.command,n=e.args,o=void 0===n?[]:n,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["address","command","args"]),a=o.length?" ".concat(o.join(" ")):"",i=Vt({},u,{address:t,command:r,args:o,url:"http://".concat(t,"/command"),data:"".concat(r).concat(a,"\n")});if("break"===r){(0,Wt.default)(i);var c=(0,xt.default)({params:i,xhr:new XMLHttpRequest});return Promise.resolve(Vt({},c,{data:{message:"Entering MRI debug mode..."}}))}if("cat"===r)return(0,Ht.default)(Vt({},i,{file:o[0]||void 0}));if("upload"===r){var f=o[0]||void 0,s=o[1]||void 0,l=o[2]||void 0,p=3;return 2===o.length&&(l=s,s=f,f=void 0,p=2),"string"==typeof l&&(l=o.slice(p).join(" ")),(0,zt.default)(Vt({},i,{name:s,file:l,path:f}))}return(0,Wt.default)(i).then(function(e){try{if(e.text=e.text.trim(),e.text.startsWith("error:Unsupported command"))throw new At.default(r);e.data=(0,Gt.default)({command:r,args:o,response:e.text})}catch(n){if("UNSUPPORTED_PARSER_ERROR"===n.type){var t="ok"===e.text.toLowerCase();return e.data=t?{ok:!0}:e.text,e}throw new Lt.default({type:n.type||n.name,message:n.message,parentError:n,response:e})}return e})},Object.defineProperty(It,"use",{enumerable:!0,get:function(){return Ft.default}});var At=qt(c),Lt=qt(m),xt=qt(E),Wt=qt(Ee),Ft=qt(ke),Gt=qt(Ke),zt=qt(it),Ht=qt(Ct);function qt(e){return e&&e.__esModule?e:{default:e}}function Kt(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kt(r,!0).forEach(function(t){Yt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Object.defineProperty(Bt,"command",{enumerable:!0,get:function(){return Qt.default}}),Object.defineProperty(Bt,"upload",{enumerable:!0,get:function(){return Jt.default}}),Bt.default=void 0;var Qt=Zt(It),Jt=Zt(it);function Zt(e){return e&&e.__esModule?e:{default:e}}var Xt=Qt.default;Bt.default=Xt;var $t={};Object.defineProperty($t,"__esModule",{value:!0}),$t.default=void 0;var er,tr=(er=t)&&er.__esModule?er:{default:er};function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function or(e,t){return(or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ur=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=nr(r).call(this,{name:"NotCurrentlyPlayingError",type:e.NOT_CURRENTLY_PLAYING_ERROR,message:"Not currently playing."}))||"object"!==rr(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)}(r,tr.default),r}();$t.default=ur;var ar={};Object.defineProperty(ar,"__esModule",{value:!0}),ar.default=void 0;var ir,cr=(ir=t)&&ir.__esModule?ir:{default:ir};function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pr=function(t){function r(t,n){var o,u,a;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),(u=this,a=sr(r).call(this,{name:"UnknownResponseError",type:e.UNKNOWN_RESPONSE_ERROR,message:"Unknown response.\nUsage: ".concat(t)}),o=!a||"object"!==fr(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(u):a).parentError=n||null,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}(r,cr.default),r}();ar.default=pr;var dr={};Object.defineProperty(dr,"__esModule",{value:!0}),dr.abortCommand=void 0;var yr=br($t),mr=br(ar);function br(e){return e&&e.__esModule?e:{default:e}}var _r={command:"abort",usage:"abort",description:"Abort currently playing file",parse:function(e){e.args;var t=e.response;if(t.startsWith("Not currently playing"))throw new yr.default;if(!t.startsWith("Aborted playing"))throw new mr.default("abort");return{message:t}}};dr.abortCommand=_r;var Or={};Object.defineProperty(Or,"__esModule",{value:!0}),Or.breakCommand=void 0;Or.breakCommand={command:"break",usage:"break",description:"Enter in MRI mode",parse:function(e){return e.args,e.response,{}}};var hr={};Object.defineProperty(hr,"__esModule",{value:!0}),hr.default=void 0;var vr,gr=(vr=t)&&vr.__esModule?vr:{default:vr};function Er(e){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jr=function(t){function r(t,n){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),o=this,!(u=wr(r).call(this,{name:"InvalidArgumentsError",type:e.INVALID_ARGUMENTS_ERROR,message:"Invalid arguments [".concat(t.join(" "),"].\nUsage: ").concat(n)}))||"object"!==Er(u)&&"function"!=typeof u?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):u;var o,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}(r,gr.default),r}();hr.default=jr;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.calcThermistorCommand=void 0;var Sr=Cr(ar),Mr=Cr(hr);function Cr(e){return e&&e.__esModule?e:{default:e}}var Tr="calc_thermistor <T1,R1,T2,R2,T3,R3>",Nr=/Steinhart Hart coefficients: {2}I([0-9.]+) J([0-9.]+) K([0-9.]+)/,Dr=/Setting Thermistor/,Ur={command:"calc_thermistor",usage:Tr,description:"Calculate the Steinhart Hart coefficients",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("Usage:"))throw new Mr.default(t,Tr);var n=r.match(Nr);if(!n)throw new Sr.default(Tr);return{I:n[1],J:n[2],K:n[3],saved:!!r.match(Dr)}}};Pr.calcThermistorCommand=Ur;var kr={};Object.defineProperty(kr,"__esModule",{value:!0}),kr.default=void 0;var Ir,Ar=(Ir=t)&&Ir.__esModule?Ir:{default:Ir};function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fr=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=xr(r).call(this,{name:"CouldNotOpenError",type:e.COULD_NOT_OPEN_ERROR,message:"Could not open [".concat(t,"].")}))||"object"!==Lr(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wr(e,t)}(r,Ar.default),r}();kr.default=Fr;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.cdCommand=void 0;var zr=qr(ar),Hr=qr(kr);function qr(e){return e&&e.__esModule?e:{default:e}}var Kr={command:"cd",usage:"cd <path>",description:"Change current absolute path to provided path",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("Could not open directory"))throw new Hr.default(t[0]||null);if(""!==r)throw new zr.default("cd <path>");return{cwd:t[0]}}};Gr.cdCommand=Kr;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.default=void 0;var Yr,Br=(Yr=t)&&Yr.__esModule?Yr:{default:Yr};function Qr(e){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jr(e){return(Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zr(e,t){return(Zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xr=function(t){function r(t,n){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),o=this,!(u=Jr(r).call(this,{name:"UndefinedSettingError",type:e.UNDEFINED_SETTING_ERROR,message:"Undefined setting [".concat(t,"].\nUsage: ").concat(n)}))||"object"!==Qr(u)&&"function"!=typeof u?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):u;var o,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zr(e,t)}(r,Br.default),r}();Vr.default=Xr;var $r={};Object.defineProperty($r,"__esModule",{value:!0}),$r.configGetCommand=void 0;var en=nn(hr),tn=nn(Vr),rn=nn(ar);function nn(e){return e&&e.__esModule?e:{default:e}}var on="config-get [local|sd|cache] <setting>",un={command:"config-get",usage:on,description:"Get config setting value from the specified source",parse:function(e){var t=e.args,r=e.response,n="cache",o=t[0]||null;if(t.length>1&&(n=o,o=t[1]||null),!r.length)throw new en.default(t,on);if(r.endsWith("is not in config"))throw new tn.default("".concat(n,":").concat(o),on);var u=r.match(/([^:]+): ([^ ]+) is set to (.+)/);if(!u)throw new rn.default(on);return{source:n,setting:o,value:u[3]}}};$r.configGetCommand=un;var an={};Object.defineProperty(an,"__esModule",{value:!0}),an.configLoadCommand=void 0;var cn=sn(hr),fn=sn(ar);function sn(e){return e&&e.__esModule?e:{default:e}}var ln="config-load <load|unload|dump|checksum>",pn={command:"config-load",usage:ln,description:"Load config values from the specified source",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("unsupported option:"))throw new cn.default(t,ln);try{return function(e,t){var r={};if("dump"===e)r={dump:t.split("\n")};else if("checksum"===e){var n=t.slice(11).split("=");r={value:n[0].trim(),checksum:n[1].trim()}}else r={message:t};return r}(t[0],r)}catch(n){throw new fn.default(ln,n)}}};an.configLoadCommand=pn;var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.default=void 0;var yn,mn=(yn=t)&&yn.__esModule?yn:{default:yn};function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hn=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=_n(r).call(this,{name:"NotEnoughSpaceError",type:e.NOT_ENOUGH_SPACE_ERROR,message:"Not enough space to overwrite [".concat(t,"].")}))||"object"!==bn(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(r,mn.default),r}();dn.default=hn;var vn={};Object.defineProperty(vn,"__esModule",{value:!0}),vn.configSetCommand=void 0;var gn=jn(hr),En=jn(Vr),wn=jn(dn),Rn=jn(ar);function jn(e){return e&&e.__esModule?e:{default:e}}var Pn="config-set <source> <setting> <value>",Sn={command:"config-set",usage:Pn,description:"Set value to the specified source setting",parse:function(e){var t=e.args,r=e.response,n=t[0]||null,o=t[1]||null;if(r.startsWith("Usage:"))throw new gn.default(t,Pn);if(r.endsWith("source does not exist"))throw new En.default("".concat(n,":").concat(o),Pn);if(r.endsWith("not enough space"))throw new wn.default("".concat(n,":").concat(o));var u=r.match(/([^:]+): ([^ ]+) has been set to (.+)/);if(!u)throw new Rn.default(Pn);return{source:n,setting:o,value:u[3]}}};vn.configSetCommand=Sn;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.dfuCommand=void 0;var Cn,Tn=(Cn=ar)&&Cn.__esModule?Cn:{default:Cn},Nn={command:"dfu",usage:"dfu",description:"Entering boot mode",parse:function(e){e.args;var t=e.response;if(!t.startsWith("Entering boot mode"))throw new Tn.default("dfu");return{message:t}}};Mn.dfuCommand=Nn;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.echoCommand=void 0;Dn.echoCommand={command:"echo",usage:"echo <message>",description:"Echo echo echo...",parse:function(e){return e.args,{message:e.response}}};var Un={};Object.defineProperty(Un,"__esModule",{value:!0}),Un.default=void 0;var kn,In=(kn=t)&&kn.__esModule?kn:{default:kn};function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wn=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Ln(r).call(this,{name:"MinimalDurationError",type:e.MINIMAL_DURATION_ERROR,message:"Minimal duration is [".concat(t,"] ms.")}))||"object"!==An(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(r,In.default),r}();Un.default=Wn;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.default=void 0;var Gn,zn=(Gn=t)&&Gn.__esModule?Gn:{default:Gn};function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vn=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=qn(r).call(this,{name:"NoLaserModuleError",type:e.NO_LASER_MODULE_ERROR,message:"No laser module, edit config file to enable."}))||"object"!==Hn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}(r,zn.default),r}();Fn.default=Vn;var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.fireCommand=void 0;var Bn=Zn(ar),Qn=Zn(Un),Jn=Zn(Fn);function Zn(e){return e&&e.__esModule?e:{default:e}}var Xn="fire <power|off|status> [duration]",$n={command:"fire",usage:Xn,description:"Fire laser manualy",parse:function(e){e.args;var t=e.response;if(t.startsWith("Usage:"))throw new Bn.default(Xn);if(""===t)throw new Jn.default;var r=t.match(/Minimal duration is ([0-9]+) ms/);if(r)throw new Qn.default(r[1]);if(r=t.match(/laser manual state: (on|off)/)){var n="on"===r[1];return{status:r[1],on:n,off:!n}}if(t.startsWith("turning laser off"))return{power:0,fire:!1,status:"off",on:!1,off:!0};if(r=t.match(/Firing laser at ([0-9.]+)% power(, for ([0-9]+) ms)?/))return{power:parseFloat(r[1]),duration:r[2]?parseFloat(r[3]):void 0,fire:!0,status:"on",on:!0,off:!1};throw new Bn.default(Xn)}};Yn.fireCommand=$n;var eo={};Object.defineProperty(eo,"__esModule",{value:!0}),eo.default=void 0;var to,ro=(to=t)&&to.__esModule?to:{default:to};function no(e){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uo(e,t){return(uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ao=function(t){function r(t,n){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),o=this,!(u=oo(r).call(this,{name:"UnsupportedSubcommandError",type:e.UNSUPPORTED_SUBCOMMAND_ERROR,message:"Unsupported subcommand [".concat(t,"].\nUsage: ").concat(n)}))||"object"!==no(u)&&"function"!=typeof u?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):u;var o,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uo(e,t)}(r,ro.default),r}();eo.default=ao;var io={};Object.defineProperty(io,"__esModule",{value:!0}),io.getFkCommand=void 0;var co=so(hr),fo=so(ar);function so(e){return e&&e.__esModule?e:{default:e}}var lo={command:"get fk",usage:"get fk [-m] x[,y,z]",description:"Do forward kinematics on the given actuator position and display the cartesian coordinates",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:usage:"))throw new co.default(t,"get fk [-m] x[,y,z]");var n=r.match(/X ([0-9.]+), Y ([0-9.]+), Z ([0-9.]+)/);if(!n)throw new fo.default("get fk [-m] x[,y,z]");return{move:"string"==typeof t[0]&&!!t[0].match(/-m/i),x:parseFloat(n[1]),y:parseFloat(n[2]),z:parseFloat(n[3])}}};io.getFkCommand=lo;var po={};Object.defineProperty(po,"__esModule",{value:!0}),po.getIkCommand=void 0;var yo=bo(hr),mo=bo(ar);function bo(e){return e&&e.__esModule?e:{default:e}}var _o={command:"get ik",usage:"get ik [-m] x[,y,z]",description:"Do inverse kinematics on the given cartesian position and display the actuator coordinates",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:usage:"))throw new yo.default(t,"get ik [-m] x[,y,z]");var n=r.match(/X ([0-9.]+), Y ([0-9.]+), Z ([0-9.]+)/);if(!n)throw new mo.default("get ik [-m] x[,y,z]");return{move:"string"==typeof t[0]&&!!t[0].match(/-m/i),x:parseFloat(n[1]),y:parseFloat(n[2]),z:parseFloat(n[3])}}};po.getIkCommand=_o;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.getPosCommand=void 0;var ho,vo=(ho=ar)&&ho.__esModule?ho:{default:ho};function go(e){var t=e.toLowerCase().split(":"),r=t.shift().replace(" ","_"),n=t.join(":").trim().split(" "),o={key:r,coords:{}};switch(n.forEach(function(e){e=e.split(":"),o.coords[e[0]]=parseFloat(e[1])}),r){case"last_c":o.command="M114",o.description="Position of all axes";break;case"realtime_wcs":o.command="M114.1",o.description="Real time position of all axes";break;case"mcs":o.command="M114.2",o.description="Real time machine position of all axes";break;case"apos":o.command="M114.3",o.description="Real time actuator position of all actuators";break;case"mp":o.command="M114.4",o.description="Last milestone";break;case"cmp":o.command="M114.5",o.description="Last machine position";break;default:o.command="M114.?",o.description="Unknown type"}return o}var Eo={command:"get pos",usage:"get pos",description:"Get all the various M114 variants",parse:function(e){e.args;var t=e.response;try{return t.trim().split("\n").map(go)}catch(r){throw new vo.default("get pos",r)}}};Oo.getPosCommand=Eo;var wo={};Object.defineProperty(wo,"__esModule",{value:!0}),wo.getStateCommand=void 0;var Ro,jo=(Ro=ar)&&Ro.__esModule?Ro:{default:Ro},Po={command:"get state",usage:"get state",description:"Get state",parse:function(e){e.args;var t=e.response;try{var r=t.trim().slice(1,-1).split(" ");return{modal:r[0],wcs:r[1],planeSelection:r[2],unit:r[3],distanceMode:r[4],pathControl:r[5],programPause:r[6],stopTool:r[7],stopCoolant:r[8],tool:r[9],feedRate:r[10],sValue:r[11]}}catch(n){throw new jo.default("get state",n)}}};wo.getStateCommand=Po;var So={};Object.defineProperty(So,"__esModule",{value:!0}),So.getStatusCommand=void 0;var Mo,Co=(Mo=ar)&&Mo.__esModule?Mo:{default:Mo},To=["Alarm","Home","Hold","Idle","Run"],No=["x","y","z","a","b","c"],Do=["current","requested","override"];function Uo(e,t){var r={};return e.match(/[0-9.]+/g).forEach(function(e,n){r[t[n]]=parseFloat(e)}),r}var ko={command:"get status",usage:"get status",description:"Get status",parse:function(e){e.args;var t=e.response;try{return function(e){var t={},r=e.slice(1,-1).split("|"),n=r.shift(),o=r.shift(),u=r.shift(),a=r.shift();if(!To.includes(n))throw new Error("Unknown state [ ".concat(n," ]"));if(!o.startsWith("MPos:"))throw new Error("Undefined machine position");if(!u.startsWith("WPos:"))throw new Error("Undefined workspace position");if(!a.startsWith("F:"))throw new Error("Undefined feedrate");return t.state=n,t.idle="Idle"===n,t.alarm="Alarm"===n,t.homming="Home"===n,t.holding="Hold"===n,t.running=["Home","Run"].includes(n),t.machine=Uo(o,No),t.workspace=Uo(u,No),t.feedrate=Uo(a,Do),t.running&&r[0].startsWith("L:")&&r[1].startsWith("S:")&&(t.laser={power:parseFloat(r.shift().slice(2)),sValue:parseFloat(r.shift().slice(2))}),t.heaters=[],r.forEach(function(e){t.heaters.push(function(t){var r=e.match(/([^:]+):(inf|[0-9.]+),(inf|[0-9.]+)/);if(!r)throw new Error("Undefined heater");return{designator:r[1],currentTemp:"inf"===r[2]?1/0:parseFloat(r[2]),targetTemp:"inf"===r[3]?1/0:parseFloat(r[3])}}())}),t}(t)}catch(r){throw new Co.default("get status",r)}}};So.getStatusCommand=ko;var Io={};Object.defineProperty(Io,"__esModule",{value:!0}),Io.default=void 0;var Ao,Lo=(Ao=t)&&Ao.__esModule?Ao:{default:Ao};function xo(e){return(xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e){return(Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fo(e,t){return(Fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Go=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=Wo(r).call(this,{name:"NotHeatersFoundError",type:e.NO_HEATERS_FOUND_ERROR,message:"No heaters found."}))||"object"!==xo(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fo(e,t)}(r,Lo.default),r}();Io.default=Go;var zo={};Object.defineProperty(zo,"__esModule",{value:!0}),zo.default=void 0;var Ho,qo=(Ho=t)&&Ho.__esModule?Ho:{default:Ho};function Ko(e){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vo(e){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yo(e,t){return(Yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bo=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Vo(r).call(this,{name:"UnknownDeviceError",type:e.UNKNOWN_DEVICE_ERROR,message:"Unknown device [".concat(t,"].")}))||"object"!==Ko(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yo(e,t)}(r,qo.default),r}();zo.default=Bo;var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.getTempCommand=void 0;var Jo=$o(Io),Zo=$o(ar),Xo=$o(zo);function $o(e){return e&&e.__esModule?e:{default:e}}function eu(e){var t=e.match(/([^ ]+) (\(([0-9]+)\))? ?temp: (inf|[0-9.]+)\/(inf|[0-9.]+) @([0-9]+)/);if(!t)throw new Error("Unknown heater fingerprint");var r={currentTemp:"inf"===t[4]?1/0:parseFloat(t[4]),targetTemp:"inf"===t[5]?1/0:parseFloat(t[5]),pwm:parseInt(t[6])};return t[3]?(r.id=parseInt(t[3]),r.designator=t[1]):r.name=t[1],r}var tu={command:"get temp",usage:"get temp [device]",description:"Get temperature for a device",parse:function(e){e.args;var t=e.response;if(t.startsWith("no heaters found"))throw new Jo.default;if(t.endsWith("is not a known temperature device"))throw new Xo.default(name);try{var r={};return"all"===name?r.devices=t.split("\n").map(eu):r=eu(t),r}catch(n){throw new Zo.default("get temp [device]",n)}}};Qo.getTempCommand=tu;var ru={};Object.defineProperty(ru,"__esModule",{value:!0}),ru.getWcsCommand=void 0;var nu,ou=(nu=ar)&&nu.__esModule?nu:{default:nu},uu={command:"get wcs",usage:"get wcs",description:"Get world coordinate system",parse:function(e){e.args;var t=e.response;try{return function(e){var t=e.split("\n"),r={current:(t=t.map(function(e){return e.slice(1,-1)})).shift().split(": ").pop()};return t.forEach(function(e){var t=e.split(":"),n=t.shift().toUpperCase(),o=t.shift().split(",");"TOOL OFFSET"===n?n="tool":"PRB"===n&&(n="prob"),r[n]={x:parseFloat(o[0]),y:parseFloat(o[1]),z:parseFloat(o[2])}}),r}(t)}catch(r){throw new ou.default("get wcs",r)}}};ru.getWcsCommand=uu;var au={};Object.defineProperty(au,"__esModule",{value:!0}),au.getCommand=void 0;var iu,cu=(iu=eo)&&iu.__esModule?iu:{default:iu},fu=["fk","ik","pos","state","status","temp","wcs"],su="get <fk|ik|pos|state|status|temp|wcs> <...options>",lu={command:"get",usage:su,description:"Get some values",parse:function(e){var t=e.args,r=e.response,n=t.shift();if(!fu.includes(n))throw new cu.default(n,su);switch(n){case"fk":return io.getFkCommand.parse({args:t,response:r});case"ik":return po.getIkCommand.parse({args:t,response:r});case"pos":return Oo.getPosCommand.parse({args:t,response:r});case"state":return wo.getStateCommand.parse({args:t,response:r});case"status":return So.getStatusCommand.parse({args:t,response:r});case"temp":return Qo.getTempCommand.parse({args:t,response:r});case"wcs":return ru.getWcsCommand.parse({args:t,response:r})}}};au.getCommand=lu;var pu={};Object.defineProperty(pu,"__esModule",{value:!0}),pu.helpCommand=void 0;var du,yu=(du=ar)&&du.__esModule?du:{default:du};function mu(e){var t=e.split(" - ").map(function(e){return e.trim()});return{command:t[0],description:t[1]||""}}var bu={command:"help",usage:"help",description:"Get some help",parse:function(e){e.args;var t=e.response;try{return{help:t.split("\n").slice(1).map(mu)}}catch(r){throw new yu.default("help",r)}}};pu.helpCommand=bu;var _u={};Object.defineProperty(_u,"__esModule",{value:!0}),_u.loadCommand=void 0;var Ou=vu(ar),hu=vu(dt);function vu(e){return e&&e.__esModule?e:{default:e}}var gu={command:"load",usage:"load <file>",description:"Load config values from the specified file",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("File not found: "))throw new hu.default(t[0]||null);try{return function(e){var t=e.split("\n"),r=t.shift();t.pop();var n=[],o=[],u=t.join("\n").trim();return t.forEach(function(e){(e=e.trim()).startsWith(";")?o.push(e.slice(1).trim().replace(/:$/,"")):(n.push({gcode:e,description:o.join("\n")}),o=[])}),{file:r.slice(30,-3),configText:u,config:n}}(r)}catch(n){throw new Ou.default("load <file>",n)}}};_u.loadCommand=gu;var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.default=function(e){var t=e.path,r=e.line.slice(0,-1);return{type:"folder",name:r,path:"".concat(t,"/").concat(r),parent:t}};var wu={};Object.defineProperty(wu,"__esModule",{value:!0}),wu.lsCommand=void 0;var Ru=Mu(ar),ju=Mu(kr),Pu=Mu(Eu),Su=Mu(tt);function Mu(e){return e&&e.__esModule?e:{default:e}}function Cu(e,t){var r,n,o=e[0],u="-s"===e[0];return u&&(o=e[1]),r=t.split("\n").filter(function(e){return e.length}).map(function(e){return(e=e.trim()).endsWith("/")?(0,Pu.default)({path:o,line:e}):(0,Su.default)({path:o,line:e,getSize:u})}),(n=r,function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(n)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).sort(function(e,t){return e.path<t.path?-1:e.path>t.path?1:0})}var Tu={command:"ls",usage:"ls [-s] <file>",description:"List directory",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("Could not open"))throw new ju.default(t[0]||null);try{return Cu(t,r)}catch(n){throw new Ru.default("ls [-s] <file>",n)}}};wu.lsCommand=Tu;var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.md5sumCommand=void 0;var Du=ku(ar),Uu=ku(dt);function ku(e){return e&&e.__esModule?e:{default:e}}var Iu={command:"md5sum",usage:"md5sum <file>",description:"Get the md5 sum for a file",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("File not found:"))throw new Uu.default(t[0]||null);var n=r.split(" ");if(2!==n.length)throw new Du.default("md5sum <file>");return{file:t[0],hash:n[0]}}};Nu.md5sumCommand=Iu;var Au={};Object.defineProperty(Au,"__esModule",{value:!0}),Au.memCommand=void 0;var Lu,xu=(Lu=ar)&&Lu.__esModule?Lu:{default:Lu};function Wu(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wu(r,!0).forEach(function(t){Gu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wu(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Gu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zu={command:"mem",usage:"mem [-v]",description:"Get memory informations",parse:function(e){var t=e.args,r=e.response;try{return function(e,t){var r={};e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\r\n/g,"\n").replace(/\t/g,"")).replace(/Unused Heap: ([0-9]+) bytes\n/g,function(e,t){return r.unusedHeap=parseInt(t),""})).replace(/Used Heap Size: ([0-9]+)\n/g,function(e,t){return r.usedHeap=parseInt(t),""})).replace(/Allocated: ([0-9]+), /g,function(e,t){return r.allocated=parseInt(t),""})).replace(/Free: ([0-9]+)\n/g,function(e,t){return r.free=parseInt(t),""})).replace(/Total Free RAM: ([0-9]+) bytes\n/g,function(e,t){return r.freeRAM=parseInt(t),""})).replace(/Free AHB0: ([0-9]+), /g,function(e,t){return r.freeAHB0=parseInt(t),""})).replace(/AHB1: ([0-9]+)\n/g,function(e,t){return r.freeAHB1=parseInt(t),""})).replace(/Block size: ([0-9]+) bytes, /g,function(e,t){return r.blockSize=parseInt(t),""})).replace(/Tickinfo size: ([0-9]+) bytes/g,function(e,t){return r.tickInfoSize=parseInt(t),""});var n=[],o=[],u=null;return t&&(e=(e=e.replace(/Chunk: ([0-9]+) {2}Address: ([x0-9A-F]+) {2}Size: ([0-9]+) {2}(CHUNK FREE)?\n/g,function(e,t,r,o,u){return n.push({num:t,address:r,size:parseInt(o),free:!!u}),""})).split("\n").map(function(e){return(e=(e=e.replace(/Start: ([0-9]+)b MemoryPool at ([x0-9a-f]+)/g,function(e,t,r){return u={address:r,start:parseInt(t),chunks:[],total:null,free:null},""})).replace(/Chunk at ([x0-9a-f]+) \( *([0-9]+)\): (free|used), ([0-9]+) bytes/g,function(e,t,r,n,o){return u.chunks.push({address:t,offset:parseInt(r),free:"free"===n,size:parseInt(o)}),""})).replace(/End: total ([0-9]+)b, free: ([0-9]+)b/g,function(e,t,r){return u=Fu({},u,{total:parseInt(t),free:parseInt(r)}),o.push(Fu({},u)),u=null,""})}).filter(function(e){return e.length}).join("\n").trim()),Fu({},r,{chunks:n,memoryPool:o})}(r,t[0]&&"-v"===t[0])}catch(n){throw new xu.default("mem [-v]",n)}}};Au.memCommand=zu;var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.default=void 0;var qu,Ku=(qu=t)&&qu.__esModule?qu:{default:qu};function Vu(e){return(Vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yu(e){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bu(e,t){return(Bu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qu=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Yu(r).call(this,{name:"CouldNotCreateError",type:e.COULD_NOT_CREATE_ERROR,message:"Could not create [".concat(t,"].")}))||"object"!==Vu(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bu(e,t)}(r,Ku.default),r}();Hu.default=Qu;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.mkdirCommand=void 0;var Zu,Xu=(Zu=Hu)&&Zu.__esModule?Zu:{default:Zu},$u={command:"mkdir",usage:"mkdir <path>",description:"Create new directory",parse:function(e){var t=e.args;if(e.response.startsWith("could not create"))throw new Xu.default(t[0]||null);return{path:t[0]}}};Ju.mkdirCommand=$u;var ea={};Object.defineProperty(ea,"__esModule",{value:!0}),ea.default=void 0;var ta,ra=(ta=t)&&ta.__esModule?ta:{default:ta};function na(e){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oa(e){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ua(e,t){return(ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var aa=function(t){function r(t,n){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),o=this,!(u=oa(r).call(this,{name:"CouldNotMoveError",type:e.COULD_NOT_MOVE_ERROR,message:"Could not move [".concat(t,"] to [").concat(n,"].")}))||"object"!==na(u)&&"function"!=typeof u?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):u;var o,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ua(e,t)}(r,ra.default),r}();ea.default=aa;var ia={};Object.defineProperty(ia,"__esModule",{value:!0}),ia.mvCommand=void 0;var ca,fa=(ca=ea)&&ca.__esModule?ca:{default:ca},sa={command:"mv",usage:"mv <source> <target>",description:"Move a file from source to target path",parse:function(e){var t=e.args;if(e.response.startsWith("Could not rename"))throw new fa.default(t[0]||null,t[1]||null);return{source:t[0],target:t[1]}}};ia.mvCommand=sa;var la={};Object.defineProperty(la,"__esModule",{value:!0}),la.netCommand=void 0;var pa,da=(pa=ar)&&pa.__esModule?pa:{default:pa},ya={command:"net",usage:"net",description:"Get network informations",parse:function(e){e.args;var t=e.response;try{return function(e){var t=e.split("\n"),r=t.shift(),n=t.shift(),o=t.shift(),u=t.shift();if(!r.startsWith("IP Addr: "))throw new Error("Undefined IP address");if(!n.startsWith("IP GW: "))throw new Error("Undefined network gateway");if(!o.startsWith("IP mask: "))throw new Error("Undefined network mask");if(!u.startsWith("MAC Address: "))throw new Error("Undefined MAC address");return{address:r.slice(9),gateway:n.slice(7),mask:o.slice(9),MAC:u.slice(13)}}(t)}catch(r){throw new da.default("net",r)}}};la.netCommand=ya;var ma={};Object.defineProperty(ma,"__esModule",{value:!0}),ma.default=void 0;var ba,_a=(ba=t)&&ba.__esModule?ba:{default:ba};function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(e){return(ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function va(e,t){return(va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ga=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=ha(r).call(this,{name:"CurrentlyPlayingError",type:e.CURRENTLY_PLAYING_ERROR,message:"Currently printing, suspend or abord first."}))||"object"!==Oa(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&va(e,t)}(r,_a.default),r}();ma.default=ga;var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.playCommand=void 0;var wa=Pa(ma),Ra=Pa(ar),ja=Pa(dt);function Pa(e){return e&&e.__esModule?e:{default:e}}var Sa={command:"play",usage:"play <file>",description:"Play file from SD card",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("Currently printing"))throw new wa.default;if(r.startsWith("File not found"))throw new ja.default(t[0]||null);if(!r.startsWith("Playing"))throw new Ra.default("play <file>");var n=t[0],o=r.match(/File size ([0-9]+)/);return{message:r,file:n,size:parseInt(o[1]||-1)}}};Ea.playCommand=Sa;var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.default=void 0;var Ca,Ta=(Ca=t)&&Ca.__esModule?Ca:{default:Ca};function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Da(e){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ua(e,t){return(Ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ka=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=Da(r).call(this,{name:"UnknownFileSizeError",type:e.UNKNOWN_FILE_SIZE_ERROR,message:"Unknown file size."}))||"object"!==Na(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ua(e,t)}(r,Ta.default),r}();Ma.default=ka;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.progressCommand=void 0;var Aa=Wa($t),La=Wa(Ma),xa=Wa(ar);function Wa(e){return e&&e.__esModule?e:{default:e}}var Fa=/SD printing byte ([0-9]+)\/([0-9]+)/,Ga=/SD print is paused at ([0-9]+)\/([0-9]+)/,za=/file: ([^,]+), ([0-9]+) % complete, elapsed time: ([0-9:]+)(, est time: ([0-9:]+))?/,Ha={command:"progress",usage:"progress [-b]",description:"Get SD or File playing progression",parse:function(e){e.args;var t=e.response;if(t.startsWith("Not currently playing"))throw new Aa.default;if(t.startsWith("File size is unknown"))throw new La.default;var r=t.match(Fa);if(r){var n=parseInt(r[1]),o=parseInt(r[2]);return{loaded:n,total:o,percent:Math.round(100*n/o)}}var u=t.match(Ga);if(u)return{loaded:parseInt(u[1]),total:parseInt(u[2])};var a=t.match(za);if(a)return{file:a[1],percent:parseInt(a[2]),elapsedTime:a[3],estimatedTime:a[5]||1/0};throw new xa.default("progress [-b]")}};Ia.progressCommand=Ha;var qa={};Object.defineProperty(qa,"__esModule",{value:!0}),qa.pwdCommand=void 0;qa.pwdCommand={command:"pwd",usage:"pwd",description:"Get (print) current working directory",parse:function(e){return e.args,{path:e.response}}};var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.remountCommand=void 0;Ka.remountCommand={command:"remount",usage:"remount",description:"Remount SD card",parse:function(e){return e.args,{message:e.response}}};var Va={};Object.defineProperty(Va,"__esModule",{value:!0}),Va.resetCommand=void 0;Va.resetCommand={command:"reset",usage:"reset",description:"Reset the board",parse:function(e){return e.args,{message:e.response}}};var Ya={};Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.default=void 0;var Ba,Qa=(Ba=t)&&Ba.__esModule?Ba:{default:Ba};function Ja(e){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Za(e){return(Za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xa(e,t){return(Xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $a=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=Za(r).call(this,{name:"NotSuspendedError",type:e.NOT_SUSPENDED_ERROR,message:"Not suspended play."}))||"object"!==Ja(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xa(e,t)}(r,Qa.default),r}();Ya.default=$a;var ei={};Object.defineProperty(ei,"__esModule",{value:!0}),ei.default=void 0;var ti,ri=(ti=t)&&ti.__esModule?ti:{default:ti};function ni(e){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oi(e){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ui(e,t){return(ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ai=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=oi(r).call(this,{name:"KillError",type:e.KILL_ERROR,message:"KILLED"}))||"object"!==ni(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ui(e,t)}(r,ri.default),r}();ei.default=ai;var ii={};Object.defineProperty(ii,"__esModule",{value:!0}),ii.resumeCommand=void 0;var ci=li(ar),fi=li(Ya),si=li(ei);function li(e){return e&&e.__esModule?e:{default:e}}var pi={command:"resume",usage:"resume",description:"Resume the suspended print",parse:function(e){e.args;var t=e.response;if(t.startsWith("Not suspended"))throw new fi.default;if(t.match(/Resume aborted by kill/))throw new si.default;if(!t.match(/Resuming print/))throw new ci.default("resume");return{logs:t.split("\n")}}};ii.resumeCommand=pi;var di={};Object.defineProperty(di,"__esModule",{value:!0}),di.default=void 0;var yi,mi=(yi=t)&&yi.__esModule?yi:{default:yi};function bi(e){return(bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _i(e){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oi(e,t){return(Oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hi=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=_i(r).call(this,{name:"CouldNotDeleteError",type:e.COULD_NOT_DELETE_ERROR,message:"Could not delete [".concat(t,"].")}))||"object"!==bi(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oi(e,t)}(r,mi.default),r}();di.default=hi;var vi={};Object.defineProperty(vi,"__esModule",{value:!0}),vi.rmCommand=void 0;var gi,Ei=(gi=di)&&gi.__esModule?gi:{default:gi},wi={command:"rm",usage:"rm <file>",description:"Remove a file or an empty folder",parse:function(e){var t=e.args;if(e.response.startsWith("Could not delete"))throw new Ei.default(t[0]||null);return{path:t[0]}}};vi.rmCommand=wi;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.saveCommand=void 0;var ji,Pi=(ji=ar)&&ji.__esModule?ji:{default:ji},Si={command:"save",usage:"save <file>",description:"Saves the specified config-override file",parse:function(e){e.args;var t=e.response;if(!t.startsWith("Settings Stored to "))throw new Pi.default("save <file>");return{file:t.slice(19)}}};Ri.saveCommand=Si;var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.setTempCommand=void 0;var Ci,Ti=(Ci=zo)&&Ci.__esModule?Ci:{default:Ci},Ni={command:"set_temp",usage:"set_temp <device> <value>",description:"Set device temperature",parse:function(e){var t=e.args;if(e.response.endsWith("is not a known temperature device"))throw new Ti.default(t[0]||null);return{device:t[0],value:parseFloat(t[1])}}};Mi.setTempCommand=Ni;var Di={};Object.defineProperty(Di,"__esModule",{value:!0}),Di.default=void 0;var Ui,ki=(Ui=t)&&Ui.__esModule?Ui:{default:Ui};function Ii(e){return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(e){return(Ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Li(e,t){return(Li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xi=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=Ai(r).call(this,{name:"AlreadySuspendedError",type:e.ALREADY_SUSPENDED_ERROR,message:"Already suspended."}))||"object"!==Ii(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Li(e,t)}(r,ki.default),r}();Di.default=xi;var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.suspendCommand=void 0;var Fi=zi(Di),Gi=zi(ar);function zi(e){return e&&e.__esModule?e:{default:e}}var Hi={command:"suspend",usage:"suspend",description:"Suspend a print in progress",parse:function(e){e.args;var t=e.response;if(t.startsWith("Already suspended"))throw new Fi.default;if(!t.startsWith("// Suspending print"))throw new Gi.default("suspend");return{message:t}}};Wi.suspendCommand=Hi;var qi={};Object.defineProperty(qi,"__esModule",{value:!0}),qi.switchCommand=void 0;var Ki=Yi(ar),Vi=Yi(zo);function Yi(e){return e&&e.__esModule?e:{default:e}}var Bi={command:"switch",usage:"switch <name> [onf|off]",description:"Set or get switch state for a named switch",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("unknown switch")||r.endsWith("is not a known switch device"))throw new Vi.default(t[0]||null);var n=r.match(/switch (.*) (?:is|set to:) (.*)/);if(!n||r.startsWith("must be"))throw new Ki.default("switch <name> [onf|off]");var o=n[2];return"0"===n[2]?o="off":"1"===n[2]&&(o="on"),{name:n[1],value:o}}};qi.switchCommand=Bi;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.testCircleCommand=void 0;var Ji,Zi=(Ji=hr)&&Ji.__esModule?Ji:{default:Ji},Xi="test circle <radius> <iterations> [feedrate]",$i={command:"test circle",usage:Xi,description:"Draws a circle around origin",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:"))throw new Zi.default(t,Xi);return{gcode:r.split("\n").slice(0,-1)}}};Qi.testCircleCommand=$i;var ec={};Object.defineProperty(ec,"__esModule",{value:!0}),ec.testSquareCommand=void 0;var tc,rc=(tc=hr)&&tc.__esModule?tc:{default:tc},nc="test square <size> <iterations> [feedrate]",oc={command:"test square",usage:nc,description:"Draws a square from origin",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:"))throw new rc.default(t,nc);return{gcode:r.split("\n").slice(0,-1)}}};ec.testSquareCommand=oc;var uc={};Object.defineProperty(uc,"__esModule",{value:!0}),uc.testJogCommand=void 0;var ac,ic=(ac=hr)&&ac.__esModule?ac:{default:ac},cc="test jog <axis> <distance> <iterations> [feedrate]",fc={command:"test jog",usage:cc,description:"Jogs back and forth from origin",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:"))throw new ic.default(t,cc);return{gcode:r.split("\n").slice(0,-1)}}};uc.testJogCommand=fc;var sc={};Object.defineProperty(sc,"__esModule",{value:!0}),sc.testRawCommand=void 0;var lc,pc=(lc=hr)&&lc.__esModule?lc:{default:lc},dc="test raw <axis> <steps> <speed>",yc={command:"test raw",usage:dc,description:"Issues raw steps to the specified axis",parse:function(e){var t=e.args;if(e.response.startsWith("error:"))throw new pc.default(t,dc);return{axis:t[0],steps:parseInt(t[1]),speed:parseInt(t[2])}}};sc.testRawCommand=yc;var mc={};Object.defineProperty(mc,"__esModule",{value:!0}),mc.testCommand=void 0;var bc,_c=(bc=eo)&&bc.__esModule?bc:{default:bc},Oc="test <square|circle|jog|raw> <...options>",hc=["circle","square","jog","raw"],vc={command:"test",usage:Oc,description:"Execute some tests",parse:function(e){var t=e.args,r=e.response,n=t.shift();if(!hc.includes(n))throw new _c.default(n,Oc);switch(n){case"square":return ec.testSquareCommand.parse({args:t,response:r});case"circle":return Qi.testCircleCommand.parse({args:t,response:r});case"jog":return uc.testJogCommand.parse({args:t,response:r});case"raw":return sc.testRawCommand.parse({args:t,response:r})}}};mc.testCommand=vc;var gc={};Object.defineProperty(gc,"__esModule",{value:!0}),gc.thermistorsCommand=void 0;var Ec,wc=(Ec=ar)&&Ec.__esModule?Ec:{default:Ec},Rc={command:"thermistors",usage:"thermistors",description:"Get predefined thermistors",parse:function(e){e.args;var t=e.response;try{return function(e){var t=e.split("\n");t.shift();var r=[],n=[],o=r;return t.forEach(function(e){if(e.startsWith("Beta table"))o=n;else{var t=e.split("-");o.push({id:parseInt(t[0].trim()),name:t[1].trim()})}}),{table:r,beta:n}}(t)}catch(r){throw new wc.default("thermistors",r)}}};gc.thermistorsCommand=Rc;var jc={};Object.defineProperty(jc,"__esModule",{value:!0}),jc.versionCommand=void 0;var Pc,Sc=(Pc=ar)&&Pc.__esModule?Pc:{default:Pc},Mc=/Build version: ([^,]+), Build date: ([^,]+), MCU: ([^,]+), System Clock: ([^\n]+)\n?(([0-5]) axis)?/m,Cc={command:"version",usage:"version",description:"Get firmware version",parse:function(e){e.args;var t=e.response.match(Mc);if(!t)throw new Sc.default("version");var r=t[1].split("-"),n={branch:r[0].trim(),hash:r[1].trim(),date:t[2].trim(),mcu:t[3].trim(),clock:t[4].trim()};return t[5]&&(n.axis=parseInt(t[6])),n}};jc.versionCommand=Cc;var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0}),Object.keys(dr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return dr[e]}})}),Object.keys(Or).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Or[e]}})}),Object.keys(Pr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Pr[e]}})}),Object.keys(vt).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return vt[e]}})}),Object.keys(Gr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Gr[e]}})}),Object.keys($r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return $r[e]}})}),Object.keys(an).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return an[e]}})}),Object.keys(vn).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return vn[e]}})}),Object.keys(Mn).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Mn[e]}})}),Object.keys(Dn).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Dn[e]}})}),Object.keys(Yn).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Yn[e]}})}),Object.keys(au).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return au[e]}})}),Object.keys(io).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return io[e]}})}),Object.keys(po).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return po[e]}})}),Object.keys(Oo).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Oo[e]}})}),Object.keys(wo).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return wo[e]}})}),Object.keys(So).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return So[e]}})}),Object.keys(Qo).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Qo[e]}})}),Object.keys(ru).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return ru[e]}})}),Object.keys(pu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return pu[e]}})}),Object.keys(_u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return _u[e]}})}),Object.keys(wu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return wu[e]}})}),Object.keys(Nu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Nu[e]}})}),Object.keys(Au).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Au[e]}})}),Object.keys(Ju).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Ju[e]}})}),Object.keys(ia).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return ia[e]}})}),Object.keys(la).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return la[e]}})}),Object.keys(Ea).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Ea[e]}})}),Object.keys(Ia).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Ia[e]}})}),Object.keys(qa).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return qa[e]}})}),Object.keys(Ka).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Ka[e]}})}),Object.keys(Va).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Va[e]}})}),Object.keys(ii).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return ii[e]}})}),Object.keys(vi).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return vi[e]}})}),Object.keys(Ri).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Ri[e]}})}),Object.keys(Mi).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Mi[e]}})}),Object.keys(Wi).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Wi[e]}})}),Object.keys(qi).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return qi[e]}})}),Object.keys(Qi).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return Qi[e]}})}),Object.keys(mc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return mc[e]}})}),Object.keys(uc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return uc[e]}})}),Object.keys(sc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return sc[e]}})}),Object.keys(ec).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return ec[e]}})}),Object.keys(gc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return gc[e]}})}),Object.keys(rt).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return rt[e]}})}),Object.keys(jc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Tc,e,{enumerable:!0,get:function(){return jc[e]}})});var Nc={};function Dc(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function Uc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.default=function(e){var t=e.callback,r=e.commands,n=e.onStart,o=void 0===n?null:n,u=e.onPause,a=void 0===u?null:u,i=e.onResume,c=void 0===i?null:i,f=e.onStop,s=void 0===f?null:f,l=e.onSend,p=void 0===l?null:l,d=e.onResponse,y=void 0===d?null:d,m=e.onError,b=void 0===m?null:m,_=e.onDone,O=void 0===_?null:_,h=!1,v=!1,g=[],E=null,w=null;function R(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dc(r,!0).forEach(function(t){Uc(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dc(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{commands:r,resolve:E,reject:w})}function j(){if(!v&&h){var e=r.shift();return e?("function"==typeof p&&p(R({command:e})),t(e).then(function(e){g.push(e),"function"==typeof y&&y(R({response:e}))}).catch(function(e){g.push(e),"function"==typeof b&&b(R({error:e}))}).then(function(){return j()})):("function"==typeof O&&O(g),E(g))}}return{start:function(){if(!h&&r.length)return h=!0,new Promise(function(e,t){return E=e,w=t,"function"==typeof o&&o(R()),j()})},pause:function(){h&&!v&&(v=!0,"function"==typeof a&&a(R()))},resume:function(){if(v)return v=!1,"function"==typeof c&&c(R()),j()},stop:function(){h&&("function"==typeof s&&s(R()),h=!1,v=!1,r=[])}}};var kc={};Object.defineProperty(kc,"__esModule",{value:!0}),Object.defineProperty(kc,"parse",{enumerable:!0,get:function(){return Ac.default}}),Object.defineProperty(kc,"queue",{enumerable:!0,get:function(){return Lc.default}}),kc.commands=void 0;var Ic=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(Tc);kc.commands=Ic;var Ac=Wc(Ke),Lc=Wc(Nc),xc=Wc(ke);function Wc(e){return e&&e.__esModule?e:{default:e}}Object.values(Ic).map(xc.default);var Fc={};function Gc(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function zc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.default=function(e){return(0,kc.queue)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gc(r,!0).forEach(function(t){zc(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gc(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{callback:Bt.command}))};var Hc={};Object.defineProperty(Hc,"__esModule",{value:!0}),Object.defineProperty(Hc,"request",{enumerable:!0,get:function(){return qc.default}}),Object.defineProperty(Hc,"post",{enumerable:!0,get:function(){return Kc.default}}),Object.defineProperty(Hc,"get",{enumerable:!0,get:function(){return Vc.default}}),Hc.default=void 0;var qc=Yc(le),Kc=Yc(Ee),Vc=Yc(Rt);function Yc(e){return e&&e.__esModule?e:{default:e}}var Bc=qc.default;Hc.default=Bc;var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});var Jc={errorTypes:!0,queue:!0,commands:!0,parse:!0};Object.defineProperty(Qc,"queue",{enumerable:!0,get:function(){return $c.default}}),Object.defineProperty(Qc,"commands",{enumerable:!0,get:function(){return kc.commands}}),Object.defineProperty(Qc,"parse",{enumerable:!0,get:function(){return kc.parse}}),Qc.errorTypes=void 0;var Zc=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(e);Qc.errorTypes=Zc;var Xc,$c=(Xc=Fc)&&Xc.__esModule?Xc:{default:Xc};Object.keys(Hc).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(Jc,e)||Object.defineProperty(Qc,e,{enumerable:!0,get:function(){return Hc[e]}}))}),Object.keys(Bt).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(Jc,e)||Object.defineProperty(Qc,e,{enumerable:!0,get:function(){return Bt[e]}}))});var ef=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(Qc);window.smoothieCommands=ef}();