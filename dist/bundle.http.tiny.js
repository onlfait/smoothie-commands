!function(){var e={};Object.defineProperty(e,"__esModule",{value:!0}),e.SERVER_ERROR=e.PARALLEL_REQUEST_ERROR=e.REQUEST_TIMEOUT_ERROR=e.REQUEST_OPEN_ERROR=e.REQUEST_ABORTED_ERROR=e.NETWORK_ERROR=e.UNSUPPORTED_SUBCOMMAND_ERROR=e.UNSUPPORTED_PARSER_ERROR=e.UNSUPPORTED_COMMAND_ERROR=e.UNKNOWN_RESPONSE_ERROR=e.UNKNOWN_FILE_SIZE_ERROR=e.UNKNOWN_DEVICE_ERROR=e.UNDEFINED_SETTING_ERROR=e.UNDEFINED_ERROR=e.NO_LASER_MODULE_ERROR=e.NO_HEATERS_FOUND_ERROR=e.NOT_SUSPENDED_ERROR=e.NOT_ENOUGH_SPACE_ERROR=e.NOT_CURRENTLY_PLAYING_ERROR=e.MINIMAL_DURATION_ERROR=e.KILL_ERROR=e.INVALID_COMMAND_ERROR=e.INVALID_ARGUMENTS_ERROR=e.FILE_NOT_FOUND_ERROR=e.CURRENTLY_PLAYING_ERROR=e.COULD_NOT_UPLOAD_ERROR=e.COULD_NOT_OPEN_ERROR=e.COULD_NOT_MOVE_ERROR=e.COULD_NOT_DELETE_ERROR=e.COULD_NOT_CREATE_ERROR=e.ALREADY_SUSPENDED_ERROR=void 0,e.ALREADY_SUSPENDED_ERROR="ALREADY_SUSPENDED_ERROR",e.COULD_NOT_CREATE_ERROR="COULD_NOT_CREATE_ERROR",e.COULD_NOT_DELETE_ERROR="COULD_NOT_DELETE_ERROR",e.COULD_NOT_MOVE_ERROR="COULD_NOT_MOVE_ERROR",e.COULD_NOT_OPEN_ERROR="COULD_NOT_OPEN_ERROR",e.COULD_NOT_UPLOAD_ERROR="COULD_NOT_UPLOAD_ERROR",e.CURRENTLY_PLAYING_ERROR="CURRENTLY_PLAYING_ERROR",e.FILE_NOT_FOUND_ERROR="FILE_NOT_FOUND_ERROR",e.INVALID_ARGUMENTS_ERROR="INVALID_ARGUMENTS_ERROR",e.INVALID_COMMAND_ERROR="INVALID_COMMAND_ERROR",e.KILL_ERROR="KILL_ERROR",e.MINIMAL_DURATION_ERROR="MINIMAL_DURATION_ERROR",e.NOT_CURRENTLY_PLAYING_ERROR="NOT_CURRENTLY_PLAYING_ERROR",e.NOT_ENOUGH_SPACE_ERROR="NOT_ENOUGH_SPACE_ERROR",e.NOT_SUSPENDED_ERROR="NOT_SUSPENDED_ERROR",e.NO_HEATERS_FOUND_ERROR="NO_HEATERS_FOUND_ERROR",e.NO_LASER_MODULE_ERROR="NO_LASER_MODULE_ERROR",e.UNDEFINED_ERROR="UNDEFINED_ERROR",e.UNDEFINED_SETTING_ERROR="UNDEFINED_SETTING_ERROR",e.UNKNOWN_DEVICE_ERROR="UNKNOWN_DEVICE_ERROR",e.UNKNOWN_FILE_SIZE_ERROR="UNKNOWN_FILE_SIZE_ERROR",e.UNKNOWN_RESPONSE_ERROR="UNKNOWN_RESPONSE_ERROR",e.UNSUPPORTED_COMMAND_ERROR="UNSUPPORTED_COMMAND_ERROR",e.UNSUPPORTED_PARSER_ERROR="UNSUPPORTED_PARSER_ERROR",e.UNSUPPORTED_SUBCOMMAND_ERROR="UNSUPPORTED_SUBCOMMAND_ERROR",e.NETWORK_ERROR="NETWORK_ERROR",e.REQUEST_ABORTED_ERROR="REQUEST_ABORTED_ERROR",e.REQUEST_OPEN_ERROR="REQUEST_OPEN_ERROR",e.REQUEST_TIMEOUT_ERROR="REQUEST_TIMEOUT_ERROR",e.PARALLEL_REQUEST_ERROR="PARALLEL_REQUEST_ERROR",e.SERVER_ERROR="SERVER_ERROR";var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.params,r=e.xhr;return{xhr:r,params:t,data:{},text:r?r.responseText:""}};var r={};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,r){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&a(o,r.prototype),o}).apply(null,arguments)}(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=function(t){function r(t){var u,a,c=t.message,f=t.response,s=t.parentError,l=void 0===s?null:s,p=t.type,d=void 0===p?e.UNDEFINED_ERROR:p;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this,(u=!(a=i(r).call(this,c))||"object"!==n(a)&&"function"!=typeof a?o(this):a).type=d,u.response=f,u.name=u.constructor.name,u.parentError=l||null,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(o(u),u.constructor):u.stack=new Error(c).stack,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(r,u(Error)),r}();r.default=c;var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s,l=(s=r)&&s.__esModule?s:{default:s};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(t){function r(t){var n,o,u=t.message,a=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=d(r).call(this,{response:a,type:e.REQUEST_OPEN_ERROR,message:u}))||"object"!==p(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(r,l.default),r}();f.default=m;var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var _,O=(_=r)&&_.__esModule?_:{default:_};function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(t){function r(t){var n,o,u=t.timeout,a=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=v(r).call(this,{response:a,type:e.REQUEST_TIMEOUT_ERROR,message:"Timeout of [".concat(u,"] ms exceeded.")}))||"object"!==h(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(r,O.default),r}();b.default=R;var w={};Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var E,j=(E=r)&&E.__esModule?E:{default:E};function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(t){function r(t){var n,o,u=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=S(r).call(this,{response:u,type:e.REQUEST_ABORTED_ERROR,message:"Request aborted."}))||"object"!==P(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(r,j.default),r}();w.default=C;var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var N,U=(N=r)&&N.__esModule?N:{default:N};function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(t){function r(t){var n,o,u=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=k(r).call(this,{response:u,type:e.PARALLEL_REQUEST_ERROR,message:"Parallel request prohibited. Please wait for the end of a request before sending another."}))||"object"!==D(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(r,U.default),r}();T.default=A;var L={};Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0;var x,W=(x=r)&&x.__esModule?x:{default:x};function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(t){function r(t){var n,o,u=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=G(r).call(this,{response:u,type:e.NETWORK_ERROR,message:"Network error."}))||"object"!==F(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(r,W.default),r}();L.default=H;var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var V,Y=(V=r)&&V.__esModule?V:{default:V};function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(t){function r(t){var n,o,u=t.status,a=t.response;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=q(r).call(this,{response:a,type:e.SERVER_ERROR,message:"Server error [".concat(u,"].")}))||"object"!==B(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(r,Y.default),r}();K.default=J;var Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.isSent=ie,Z.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.method,r=void 0===t?"POST":t,n=e.url,o=void 0===n?"/":n,u=e.data,a=void 0===u?null:u,i=e.timeout,c=void 0===i?0:i,f=e.headers,s=void 0===f?null:f,l=e.onUploadProgress,p=void 0===l?null:l,d=e.validateStatus,y=void 0===d?function(e){return e>=200&&e<300}:d,m=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["method","url","data","timeout","headers","onUploadProgress","validateStatus"]);o.startsWith("http://")||(o="http://".concat(o));var b={method:r,url:o,data:a,userData:m,timeout:c,headers:s,onUploadProgress:p,validateStatus:y};return new Promise(function(e,t){var n=new XMLHttpRequest,u=o.match(/http:\/\/([^\/]+)/),i=u?u[1]:"localhost";try{n.open(r,o,!0)}catch(d){var f=(0,X.default)({params:b,xhr:n});return t(new $.default({message:d.message,response:f}))}if(n.timeout=c,s&&s.forEach(function(e){var t,r=(2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=[],n=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done)&&(r.push(a.value),2!==r.length);n=!0);}catch(c){o=!0,u=c}finally{try{n||null==i.return||i.return()}finally{if(o)throw u}}return r}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),o=r[0],u=r[1];return n.setRequestHeader(o,u)}),n.onreadystatechange=function(){if(n&&4===n.readyState&&0!==n.status){if(ae[i]=!1,y(n.status))e((0,X.default)({params:b,xhr:n}));else{var r=(0,X.default)({params:b,xhr:n});t(new oe.default({status:n.status,response:r}))}n=null}},n.onerror=function(){ae[i]=!1;var e=(0,X.default)({params:b,xhr:n});t(new ne.default({response:e})),n=null},n.onabort=function(){if(n){ae[i]=!1;var e=(0,X.default)({params:b,xhr:n});t(new te.default({response:e})),n=null}},n.ontimeout=function(){ae[i]=!1;var e=(0,X.default)({params:b,xhr:n});t(new ee.default({timeout:c,response:e})),n=null},"function"==typeof p&&n.upload&&n.upload.addEventListener("progress",function(e){e.lengthComputable&&p({event:e,total:e.total,loaded:e.loaded,percent:e.loaded/e.total*100})}),ie(i)){var l=(0,X.default)({params:b,xhr:n});t(new re.default({response:l}))}else ae[i]=!0,n.send(a)})};var X=ue(t),$=ue(f),ee=ue(b),te=ue(w),re=ue(T),ne=ue(L),oe=ue(K);function ue(e){return e&&e.__esModule?e:{default:e}}var ae={};function ie(e){return!!ae[e]}var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,se.default)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(r,!0).forEach(function(t){pe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{method:"POST"}))};var fe,se=(fe=Z)&&fe.__esModule?fe:{default:fe};function le(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var de={};Object.defineProperty(de,"__esModule",{value:!0}),de.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,me.default)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(r,!0).forEach(function(t){_e(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{method:"GET"}))};var ye,me=(ye=Z)&&ye.__esModule?ye:{default:ye};function be(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function _e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Object.defineProperty(Oe,"request",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(Oe,"post",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(Oe,"get",{enumerable:!0,get:function(){return ge.default}}),Oe.default=void 0;var he=Re(Z),ve=Re(ce),ge=Re(de);function Re(e){return e&&e.__esModule?e:{default:e}}var we=he.default;Oe.default=we;var Ee={};function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e){var t="function"==typeof Map?new Map:void 0;return(Se=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,r){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&Me(o,r.prototype),o}).apply(null,arguments)}(e,arguments,Ce(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Me(n,e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=void 0;var Te=function(t){function r(t){var n,o,u=t.message,a=t.type,i=void 0===a?e.UNDEFINED_ERROR:a;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this,(n=!(o=Ce(r).call(this,u))||"object"!==je(o)&&"function"!=typeof o?Pe(this):o).type=i,n.name=n.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(Pe(n),n.constructor):n.stack=new Error(u).stack,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(r,Se(Error)),r}();Ee.default=Te;var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0;var Ue,De=(Ue=Ee)&&Ue.__esModule?Ue:{default:Ue};function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Le=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Ie(r).call(this,{type:e.UNSUPPORTED_COMMAND_ERROR,message:"Unsupported command [".concat(t,"].")}))||"object"!==ke(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(r,De.default),r}();Ne.default=Le;var xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0;var We,Fe=(We=Ee)&&We.__esModule?We:{default:We};function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ke=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=ze(r).call(this,{type:e.INVALID_COMMAND_ERROR,message:"Command must contain [command] and [parse] properties."}))||"object"!==Ge(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(r,Fe.default),r}();xe.default=Ke;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=function(e){if(!e.command||!e.parse||"function"!=typeof e.parse)throw new Be.default;qe[e.command]=e},Ve.usedCommands=void 0;var Ye,Be=(Ye=xe)&&Ye.__esModule?Ye:{default:Ye},qe={};Ve.usedCommands=qe;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var Je,Ze=(Je=Ee)&&Je.__esModule?Je:{default:Je};function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tt=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=$e(r).call(this,{type:e.UNSUPPORTED_PARSER_ERROR,message:"The command parser for [".concat(t,"] is not yet supported.")}))||"object"!==Xe(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(r,Ze.default),r}();Qe.default=tt;var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=function(e){var t=e.command,r=e.response,n=e.args;if(!Ve.usedCommands[t])throw new ot.default(t);return Ve.usedCommands[t].parse({args:n,response:r})};var nt,ot=(nt=Qe)&&nt.__esModule?nt:{default:nt},ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.default=void 0;var at,it=(at=Ee)&&at.__esModule?at:{default:at};function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lt=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=ft(r).call(this,{type:e.COULD_NOT_UPLOAD_ERROR,message:"Could not upload [".concat(t,"].")}))||"object"!==ct(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(r,it.default),r}();ut.default=lt;var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.default=function(e){var t=e.path,r=e.line,n=e.getSize,o=r,u=r.split(" "),a=n?parseInt(u.pop()):void 0;return{name:o=u.join(" "),size:a,type:"file",parent:t,path:"".concat(t,"/").concat(o),extension:o.split(".").pop()}};var dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.uploadCommand=void 0;var yt=bt(ut),mt=bt(pt);function bt(e){return e&&e.__esModule?e:{default:e}}var _t={command:"upload",usage:"upload <file>",description:"Saves a stream of text to the named file",parse:function(e){var t=e.args,r=e.response,n=t[0],o=t[1],u=t[2];if(!r.startsWith("OK"))throw new yt.default("".concat(u,"/").concat(n));return(0,mt.default)({path:u,line:"".concat(n," ").concat(o.size),getSize:!0})}};dt.uploadCommand=_t;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.address,r=e.file,n=e.name,o=e.path,u=void 0===o?"/sd":o,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["address","file","name","path"]);"string"==typeof r&&("\n"!==(r=r.replace(/\r\n/g,"\n"))[r.length-1]&&(r+="\n"),r=new Blob([r],{type:"text/plain"})),n=n.replace(/^\/|\/$/g,""),u=u.replace(/^\/|\/$/g,"");var i="/".concat(u,"/").concat(n),c=i.split("/");n=c.pop(),u=c.join("/"),i=i.replace(/^\/sd\//,"");var f=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(r,!0).forEach(function(t){wt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},a,{address:t,file:r,name:n,path:u,headers:[["X-Filename",i]],url:"http://".concat(t,"/upload"),data:r,validateStatus:function(e){return e>=200&&e<300||503===e}});return(0,vt.default)(f).then(function(e){try{e.data=dt.uploadCommand.parse({command:"upload",args:[n,r,u],response:e.text.trim()})}catch(t){throw new ht.default({type:t.type||t.name,message:t.message,parentError:t,response:e})}return e})};var ht=gt(r),vt=gt(ce);function gt(e){return e&&e.__esModule?e:{default:e}}function Rt(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function wt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Et={};Object.defineProperty(Et,"__esModule",{value:!0}),Et.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.address,r=e.command,n=e.args,o=void 0===n?[]:n,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["address","command","args"]),a=o.length?" ".concat(o.join(" ")):"",i=kt({},u,{address:t,command:r,args:o,url:"http://".concat(t,"/command"),data:"".concat(r).concat(a,"\n")});if("break"===r){(0,Mt.default)(i);var c=(0,St.default)({params:i,xhr:new XMLHttpRequest});return Promise.resolve(kt({},c,{data:{message:"Entering MRI debug mode..."}}))}return"upload"===r?(0,Nt.default)(kt({},i,{name:o[0]||void 0,file:o[1]||void 0,path:o[2]||void 0})):(0,Mt.default)(i).then(function(e){try{if(e.text=e.text.trim(),e.text.startsWith("error:Unsupported command"))throw new jt.default(r);e.data=(0,Tt.default)({command:r,args:o,response:e.text.trim()})}catch(t){throw new Pt.default({type:t.type||t.name,message:t.message,parentError:t,response:e})}return e})},Object.defineProperty(Et,"use",{enumerable:!0,get:function(){return Ct.default}});var jt=Ut(Ne),Pt=Ut(r),St=Ut(t),Mt=Ut(ce),Ct=Ut(Ve),Tt=Ut(rt),Nt=Ut(Ot);function Ut(e){return e&&e.__esModule?e:{default:e}}function Dt(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(r,!0).forEach(function(t){It(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function It(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var At={};Object.defineProperty(At,"__esModule",{value:!0}),Object.defineProperty(At,"command",{enumerable:!0,get:function(){return Lt.default}}),Object.defineProperty(At,"upload",{enumerable:!0,get:function(){return xt.default}}),At.default=void 0;var Lt=Wt(Et),xt=Wt(Ot);function Wt(e){return e&&e.__esModule?e:{default:e}}var Ft=Lt.default;At.default=Ft;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.default=void 0;var zt,Ht=(zt=Ee)&&zt.__esModule?zt:{default:zt};function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bt=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=Vt(r).call(this,{type:e.NOT_CURRENTLY_PLAYING_ERROR,message:"Not currently playing."}))||"object"!==Kt(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(r,Ht.default),r}();Gt.default=Bt;var qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.default=void 0;var Qt,Jt=(Qt=Ee)&&Qt.__esModule?Qt:{default:Qt};function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var er=function(t){function r(t,n){var o,u,a;return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),(u=this,a=Xt(r).call(this,{type:e.UNKNOWN_RESPONSE_ERROR,message:"Unknown response.\nUsage: ".concat(t)}),o=!a||"object"!==Zt(a)&&"function"!=typeof a?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(u):a).parentError=n||null,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(r,Jt.default),r}();qt.default=er;var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.abortCommand=void 0;var rr=or(Gt),nr=or(qt);function or(e){return e&&e.__esModule?e:{default:e}}var ur={command:"abort",usage:"abort",description:"Abort currently playing file",parse:function(e){e.args;var t=e.response;if(t.startsWith("Not currently playing"))throw new rr.default;if(!t.startsWith("Aborted playing"))throw new nr.default("abort");return{message:t}}};tr.abortCommand=ur;var ar={};Object.defineProperty(ar,"__esModule",{value:!0}),ar.breakCommand=void 0;ar.breakCommand={command:"break",usage:"break",description:"Enter in MRI mode",parse:function(e){return e.args,e.response,{}}};var ir={};Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var cr,fr=(cr=Ee)&&cr.__esModule?cr:{default:cr};function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dr=function(t){function r(t,n){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),o=this,!(u=lr(r).call(this,{type:e.INVALID_ARGUMENTS_ERROR,message:"Invalid arguments [".concat(t.join(" "),"].\nUsage: ").concat(n)}))||"object"!==sr(u)&&"function"!=typeof u?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):u;var o,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(r,fr.default),r}();ir.default=dr;var yr={};Object.defineProperty(yr,"__esModule",{value:!0}),yr.calcThermistorCommand=void 0;var mr=_r(qt),br=_r(ir);function _r(e){return e&&e.__esModule?e:{default:e}}var Or="calc_thermistor <T1,R1,T2,R2,T3,R3>",hr=/Steinhart Hart coefficients: {2}I([0-9.]+) J([0-9.]+) K([0-9.]+)/,vr=/Setting Thermistor/,gr={command:"calc_thermistor",usage:Or,description:"Calculate the Steinhart Hart coefficients",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("Usage:"))throw new br.default(t,Or);var n=r.match(hr);if(!n)throw new mr.default(Or);return{I:n[1],J:n[2],K:n[3],saved:!!r.match(vr)}}};yr.calcThermistorCommand=gr;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.default=void 0;var wr,Er=(wr=Ee)&&wr.__esModule?wr:{default:wr};function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mr=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Pr(r).call(this,{type:e.FILE_NOT_FOUND_ERROR,message:"File not found [".concat(t,"].")}))||"object"!==jr(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(r,Er.default),r}();Rr.default=Mr;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.catCommand=void 0;var Tr,Nr=(Tr=Rr)&&Tr.__esModule?Tr:{default:Tr},Ur={command:"cat",usage:"cat <file> [limit]",description:"Output the contents of a file",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("File not found"))throw new Nr.default(t[0]||null);return{contents:r}}};Cr.catCommand=Ur;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.default=void 0;var kr,Ir=(kr=Ee)&&kr.__esModule?kr:{default:kr};function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lr(e){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xr(e,t){return(xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wr=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Lr(r).call(this,{type:e.COULD_NOT_OPEN_ERROR,message:"Could not open [".concat(t,"].")}))||"object"!==Ar(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xr(e,t)}(r,Ir.default),r}();Dr.default=Wr;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.cdCommand=void 0;var Gr=Hr(qt),zr=Hr(Dr);function Hr(e){return e&&e.__esModule?e:{default:e}}var Kr={command:"cd",usage:"cd <path>",description:"Change current absolute path to provided path",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("Could not open directory"))throw new zr.default(t[0]||null);if(""!==r)throw new Gr.default("cd <path>");return{cwd:t[0]}}};Fr.cdCommand=Kr;var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.default=void 0;var Yr,Br=(Yr=Ee)&&Yr.__esModule?Yr:{default:Yr};function qr(e){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(e){return(Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zr=function(t){function r(t,n){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),o=this,!(u=Qr(r).call(this,{type:e.UNDEFINED_SETTING_ERROR,message:"Undefined setting [".concat(t,"].\nUsage: ").concat(n)}))||"object"!==qr(u)&&"function"!=typeof u?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):u;var o,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(r,Br.default),r}();Vr.default=Zr;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.configGetCommand=void 0;var $r=rn(ir),en=rn(Vr),tn=rn(qt);function rn(e){return e&&e.__esModule?e:{default:e}}var nn="config-get [local|sd|cache] <setting>",on={command:"config-get",usage:nn,description:"Get config setting value from the specified source",parse:function(e){var t=e.args,r=e.response,n="cache",o=t[0]||null;if(t.length>1&&(n=o,o=t[1]||null),!r.length)throw new $r.default(t,nn);if(r.endsWith("is not in config"))throw new en.default("".concat(n,":").concat(o),nn);var u=r.match(/([^:]+): ([^ ]+) is set to (.+)/);if(!u)throw new tn.default(nn);return{source:n,setting:o,value:u[3]}}};Xr.configGetCommand=on;var un={};Object.defineProperty(un,"__esModule",{value:!0}),un.configLoadCommand=void 0;var an=fn(ir),cn=fn(qt);function fn(e){return e&&e.__esModule?e:{default:e}}var sn="config-load <load|unload|dump|checksum>",ln={command:"config-load",usage:sn,description:"Load config values from the specified source",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("unsupported option:"))throw new an.default(t,sn);try{return function(e,t){var r={};if("dump"===e)r={dump:t.split("\n")};else if("checksum"===e){var n=t.slice(11).split("=");r={value:n[0].trim(),checksum:n[1].trim()}}else r={message:t};return r}(t[0],r)}catch(n){throw new cn.default(sn,n)}}};un.configLoadCommand=ln;var pn={};Object.defineProperty(pn,"__esModule",{value:!0}),pn.default=void 0;var dn,yn=(dn=Ee)&&dn.__esModule?dn:{default:dn};function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var On=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=bn(r).call(this,{type:e.NOT_ENOUGH_SPACE_ERROR,message:"Not enough space to overwrite [".concat(t,"].")}))||"object"!==mn(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(r,yn.default),r}();pn.default=On;var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.configSetCommand=void 0;var vn=En(ir),gn=En(Vr),Rn=En(pn),wn=En(qt);function En(e){return e&&e.__esModule?e:{default:e}}var jn="config-set <source> <setting> <value>",Pn={command:"config-set",usage:jn,description:"Set value to the specified source setting",parse:function(e){var t=e.args,r=e.response,n=t[0]||null,o=t[1]||null;if(r.startsWith("Usage:"))throw new vn.default(t,jn);if(r.endsWith("source does not exist"))throw new gn.default("".concat(n,":").concat(o),jn);if(r.endsWith("not enough space"))throw new Rn.default("".concat(n,":").concat(o));var u=r.match(/([^:]+): ([^ ]+) has been set to (.+)/);if(!u)throw new wn.default(jn);return{source:n,setting:o,value:u[3]}}};hn.configSetCommand=Pn;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.dfuCommand=void 0;var Mn,Cn=(Mn=qt)&&Mn.__esModule?Mn:{default:Mn},Tn={command:"dfu",usage:"dfu",description:"Entering boot mode",parse:function(e){e.args;var t=e.response;if(!t.startsWith("Entering boot mode"))throw new Cn.default("dfu");return{message:t}}};Sn.dfuCommand=Tn;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.echoCommand=void 0;Nn.echoCommand={command:"echo",usage:"echo <message>",description:"Echo echo echo...",parse:function(e){return e.args,{message:e.response}}};var Un={};Object.defineProperty(Un,"__esModule",{value:!0}),Un.default=void 0;var Dn,kn=(Dn=Ee)&&Dn.__esModule?Dn:{default:Dn};function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xn=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=An(r).call(this,{type:e.MINIMAL_DURATION_ERROR,message:"Minimal duration is [".concat(t,"] ms.")}))||"object"!==In(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}(r,kn.default),r}();Un.default=xn;var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.default=void 0;var Fn,Gn=(Fn=Ee)&&Fn.__esModule?Fn:{default:Fn};function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vn=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=Hn(r).call(this,{type:e.NO_LASER_MODULE_ERROR,message:"No laser module, edit config file to enable."}))||"object"!==zn(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}(r,Gn.default),r}();Wn.default=Vn;var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.fireCommand=void 0;var Bn=Jn(qt),qn=Jn(Un),Qn=Jn(Wn);function Jn(e){return e&&e.__esModule?e:{default:e}}var Zn="fire <power|off|status> [duration]",Xn={command:"fire",usage:Zn,description:"Fire laser manualy",parse:function(e){e.args;var t=e.response;if(t.startsWith("Usage:"))throw new Bn.default(Zn);if(""===t)throw new Qn.default;var r=t.match(/Minimal duration is ([0-9]+) ms/);if(r)throw new qn.default(r[1]);if(r=t.match(/laser manual state: (on|off)/)){var n="on"===r[1];return{status:r[1],on:n,off:!n}}if(t.startsWith("turning laser off"))return{power:0,fire:!1,status:"off",on:!1,off:!0};if(r=t.match(/Firing laser at ([0-9.]+)% power(, for ([0-9]+) ms)?/))return{power:parseFloat(r[1]),duration:r[2]?parseFloat(r[3]):void 0,fire:!0,status:"on",on:!0,off:!1};throw new Bn.default(Zn)}};Yn.fireCommand=Xn;var $n={};Object.defineProperty($n,"__esModule",{value:!0}),$n.default=void 0;var eo,to=(eo=Ee)&&eo.__esModule?eo:{default:eo};function ro(e){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function no(e){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e,t){return(oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var uo=function(t){function r(t,n){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),o=this,!(u=no(r).call(this,{type:e.UNSUPPORTED_SUBCOMMAND_ERROR,message:"Unsupported subcommand [".concat(t,"].\nUsage: ").concat(n)}))||"object"!==ro(u)&&"function"!=typeof u?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):u;var o,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oo(e,t)}(r,to.default),r}();$n.default=uo;var ao={};Object.defineProperty(ao,"__esModule",{value:!0}),ao.getFkCommand=void 0;var io=fo(ir),co=fo(qt);function fo(e){return e&&e.__esModule?e:{default:e}}var so={command:"get fk",usage:"get fk [-m] x[,y,z]",description:"Do forward kinematics on the given actuator position and display the cartesian coordinates",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:usage:"))throw new io.default(t,"get fk [-m] x[,y,z]");var n=r.match(/X ([0-9.]+), Y ([0-9.]+), Z ([0-9.]+)/);if(!n)throw new co.default("get fk [-m] x[,y,z]");return{move:"string"==typeof t[0]&&!!t[0].match(/-m/i),x:parseFloat(n[1]),y:parseFloat(n[2]),z:parseFloat(n[3])}}};ao.getFkCommand=so;var lo={};Object.defineProperty(lo,"__esModule",{value:!0}),lo.getIkCommand=void 0;var po=mo(ir),yo=mo(qt);function mo(e){return e&&e.__esModule?e:{default:e}}var bo={command:"get ik",usage:"get ik [-m] x[,y,z]",description:"Do inverse kinematics on the given cartesian position and display the actuator coordinates",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:usage:"))throw new po.default(t,"get ik [-m] x[,y,z]");var n=r.match(/X ([0-9.]+), Y ([0-9.]+), Z ([0-9.]+)/);if(!n)throw new yo.default("get ik [-m] x[,y,z]");return{move:"string"==typeof t[0]&&!!t[0].match(/-m/i),x:parseFloat(n[1]),y:parseFloat(n[2]),z:parseFloat(n[3])}}};lo.getIkCommand=bo;var _o={};Object.defineProperty(_o,"__esModule",{value:!0}),_o.getPosCommand=void 0;var Oo,ho=(Oo=qt)&&Oo.__esModule?Oo:{default:Oo};function vo(e){var t=e.toLowerCase().split(":"),r=t.shift().replace(" ","_"),n=t.join(":").trim().split(" "),o={key:r,coords:{}};switch(n.forEach(function(e){e=e.split(":"),o.coords[e[0]]=parseFloat(e[1])}),r){case"last_c":o.command="M114",o.description="Position of all axes";break;case"realtime_wcs":o.command="M114.1",o.description="Real time position of all axes";break;case"mcs":o.command="M114.2",o.description="Real time machine position of all axes";break;case"apos":o.command="M114.3",o.description="Real time actuator position of all actuators";break;case"mp":o.command="M114.4",o.description="Last milestone";break;case"cmp":o.command="M114.5",o.description="Last machine position";break;default:o.command="M114.?",o.description="Unknown type"}return o}var go={command:"get pos",usage:"get pos",description:"Get all the various M114 variants",parse:function(e){e.args;var t=e.response;try{return t.trim().split("\n").map(vo)}catch(r){throw new ho.default("get pos",r)}}};_o.getPosCommand=go;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.getStateCommand=void 0;var wo,Eo=(wo=qt)&&wo.__esModule?wo:{default:wo},jo={command:"get state",usage:"get state",description:"Get state",parse:function(e){e.args;var t=e.response;try{var r=t.trim().slice(1,-1).split(" ");return{modal:r[0],wcs:r[1],planeSelection:r[2],unit:r[3],distanceMode:r[4],pathControl:r[5],programPause:r[6],stopTool:r[7],stopCoolant:r[8],tool:r[9],feedRate:r[10],sValue:r[11]}}catch(n){throw new Eo.default("get state",n)}}};Ro.getStateCommand=jo;var Po={};Object.defineProperty(Po,"__esModule",{value:!0}),Po.getStatusCommand=void 0;var So,Mo=(So=qt)&&So.__esModule?So:{default:So},Co=["Alarm","Home","Hold","Idle","Run"],To=["x","y","z","a","b","c"],No=["current","requested","override"];function Uo(e,t){var r={};return e.match(/[0-9.]+/g).forEach(function(e,n){r[t[n]]=parseFloat(e)}),r}var Do={command:"get status",usage:"get status",description:"Get status",parse:function(e){e.args;var t=e.response;try{return function(e){var t={},r=e.slice(1,-1).split("|"),n=r.shift(),o=r.shift(),u=r.shift(),a=r.shift();if(!Co.includes(n))throw new Error("Unknown state [ ".concat(n," ]"));if(!o.startsWith("MPos:"))throw new Error("Undefined machine position");if(!u.startsWith("WPos:"))throw new Error("Undefined workspace position");if(!a.startsWith("F:"))throw new Error("Undefined feedrate");return t.state=n,t.idle="Idle"===n,t.alarm="Alarm"===n,t.homming="Home"===n,t.holding="Hold"===n,t.running=["Home","Run"].includes(n),t.machine=Uo(o,To),t.workspace=Uo(u,To),t.feedrate=Uo(a,No),t.running&&r[0].startsWith("L:")&&r[1].startsWith("S:")&&(t.laser={power:parseFloat(r.shift().slice(2)),sValue:parseFloat(r.shift().slice(2))}),t.heaters=[],r.forEach(function(e){t.heaters.push(function(t){var r=e.match(/([^:]+):(inf|[0-9.]+),(inf|[0-9.]+)/);if(!r)throw new Error("Undefined heater");return{designator:r[1],currentTemp:"inf"===r[2]?1/0:parseFloat(r[2]),targetTemp:"inf"===r[3]?1/0:parseFloat(r[3])}}())}),t}(t)}catch(r){throw new Mo.default("get status",r)}}};Po.getStatusCommand=Do;var ko={};Object.defineProperty(ko,"__esModule",{value:!0}),ko.default=void 0;var Io,Ao=(Io=Ee)&&Io.__esModule?Io:{default:Io};function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e){return(xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wo(e,t){return(Wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fo=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=xo(r).call(this,{type:e.NO_HEATERS_FOUND_ERROR,message:"No heaters found."}))||"object"!==Lo(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wo(e,t)}(r,Ao.default),r}();ko.default=Fo;var Go={};Object.defineProperty(Go,"__esModule",{value:!0}),Go.default=void 0;var zo,Ho=(zo=Ee)&&zo.__esModule?zo:{default:zo};function Ko(e){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vo(e){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yo(e,t){return(Yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bo=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Vo(r).call(this,{type:e.UNKNOWN_DEVICE_ERROR,message:"Unknown device [".concat(t,"].")}))||"object"!==Ko(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yo(e,t)}(r,Ho.default),r}();Go.default=Bo;var qo={};Object.defineProperty(qo,"__esModule",{value:!0}),qo.getTempCommand=void 0;var Qo=Xo(ko),Jo=Xo(qt),Zo=Xo(Go);function Xo(e){return e&&e.__esModule?e:{default:e}}function $o(e){var t=e.match(/([^ ]+) (\(([0-9]+)\))? ?temp: (inf|[0-9.]+)\/(inf|[0-9.]+) @([0-9]+)/);if(!t)throw new Error("Unknown heater fingerprint");var r={currentTemp:"inf"===t[4]?1/0:parseFloat(t[4]),targetTemp:"inf"===t[5]?1/0:parseFloat(t[5]),pwm:parseInt(t[6])};return t[3]?(r.id=parseInt(t[3]),r.designator=t[1]):r.name=t[1],r}var eu={command:"get temp",usage:"get temp [device]",description:"Get temperature for a device",parse:function(e){e.args;var t=e.response;if(t.startsWith("no heaters found"))throw new Qo.default;if(t.endsWith("is not a known temperature device"))throw new Zo.default(name);try{var r={};return"all"===name?r.devices=t.split("\n").map($o):r=$o(t),r}catch(n){throw new Jo.default("get temp [device]",n)}}};qo.getTempCommand=eu;var tu={};Object.defineProperty(tu,"__esModule",{value:!0}),tu.getWcsCommand=void 0;var ru,nu=(ru=qt)&&ru.__esModule?ru:{default:ru},ou={command:"get wcs",usage:"get wcs",description:"Get world coordinate system",parse:function(e){e.args;var t=e.response;try{return function(e){var t=e.split("\n"),r={current:(t=t.map(function(e){return e.slice(1,-1)})).shift().split(": ").pop()};return t.forEach(function(e){var t=e.split(":"),n=t.shift().toUpperCase(),o=t.shift().split(",");"TOOL OFFSET"===n?n="tool":"PRB"===n&&(n="prob"),r[n]={x:parseFloat(o[0]),y:parseFloat(o[1]),z:parseFloat(o[2])}}),r}(t)}catch(r){throw new nu.default("get wcs",r)}}};tu.getWcsCommand=ou;var uu={};Object.defineProperty(uu,"__esModule",{value:!0}),uu.getCommand=void 0;var au,iu=(au=$n)&&au.__esModule?au:{default:au},cu=["fk","ik","pos","state","status","temp","wcs"],fu="get <fk|ik|pos|state|status|temp|wcs> <...options>",su={command:"get",usage:fu,description:"Get some values",parse:function(e){var t=e.args,r=e.response,n=t.shift();if(!cu.includes(n))throw new iu.default(n,fu);switch(n){case"fk":return ao.getFkCommand.parse({args:t,response:r});case"ik":return lo.getIkCommand.parse({args:t,response:r});case"pos":return _o.getPosCommand.parse({args:t,response:r});case"state":return Ro.getStateCommand.parse({args:t,response:r});case"status":return Po.getStatusCommand.parse({args:t,response:r});case"temp":return qo.getTempCommand.parse({args:t,response:r});case"wcs":return tu.getWcsCommand.parse({args:t,response:r})}}};uu.getCommand=su;var lu={};Object.defineProperty(lu,"__esModule",{value:!0}),lu.helpCommand=void 0;var pu,du=(pu=qt)&&pu.__esModule?pu:{default:pu};function yu(e){var t=e.split(" - ").map(function(e){return e.trim()});return{command:t[0],description:t[1]||""}}var mu={command:"help",usage:"help",description:"Get some help",parse:function(e){e.args;var t=e.response;try{return{help:t.split("\n").slice(1).map(yu)}}catch(r){throw new du.default("help",r)}}};lu.helpCommand=mu;var bu={};Object.defineProperty(bu,"__esModule",{value:!0}),bu.loadCommand=void 0;var _u=hu(qt),Ou=hu(Rr);function hu(e){return e&&e.__esModule?e:{default:e}}var vu={command:"load",usage:"load <file>",description:"Load config values from the specified file",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("File not found: "))throw new Ou.default(t[0]||null);try{return function(e){var t=e.split("\n"),r=t.shift();t.pop();var n=[],o=[],u=t.join("\n").trim();return t.forEach(function(e){(e=e.trim()).startsWith(";")?o.push(e.slice(1).trim().replace(/:$/,"")):(n.push({gcode:e,description:o.join("\n")}),o=[])}),{file:r.slice(30,-3),configText:u,config:n}}(r)}catch(n){throw new _u.default("load <file>",n)}}};bu.loadCommand=vu;var gu={};Object.defineProperty(gu,"__esModule",{value:!0}),gu.default=function(e){var t=e.path,r=e.line.slice(0,-1);return{type:"folder",name:r,path:"".concat(t,"/").concat(r),parent:t}};var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.lsCommand=void 0;var wu=Su(qt),Eu=Su(Dr),ju=Su(gu),Pu=Su(pt);function Su(e){return e&&e.__esModule?e:{default:e}}function Mu(e,t){var r,n,o=e[0],u="-s"===e[0];return u&&(o=e[1]),r=t.split("\n").filter(function(e){return e.length}).map(function(e){return(e=e.trim()).endsWith("/")?(0,ju.default)({path:o,line:e}):(0,Pu.default)({path:o,line:e,getSize:u})}),(n=r,function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(n)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).sort(function(e,t){return e.path<t.path?-1:e.path>t.path?1:0})}var Cu={command:"ls",usage:"ls [-s] <file>",description:"List directory",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("Could not open"))throw new Eu.default(t[0]||null);try{return Mu(t,r)}catch(n){throw new wu.default("ls [-s] <file>",n)}}};Ru.lsCommand=Cu;var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.md5sumCommand=void 0;var Nu=Du(qt),Uu=Du(Rr);function Du(e){return e&&e.__esModule?e:{default:e}}var ku={command:"md5sum",usage:"md5sum <file>",description:"Get the md5 sum for a file",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("File not found:"))throw new Uu.default(t[0]||null);var n=r.split(" ");if(2!==n.length)throw new Nu.default("md5sum <file>");return{file:t[0],hash:n[0]}}};Tu.md5sumCommand=ku;var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.memCommand=void 0;var Au,Lu=(Au=qt)&&Au.__esModule?Au:{default:Au};function xu(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r}function Wu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xu(r,!0).forEach(function(t){Fu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xu(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gu={command:"mem",usage:"mem [-v]",description:"Get memory informations",parse:function(e){var t=e.args,r=e.response;try{return function(e,t){var r={};e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\r\n/g,"\n").replace(/\t/g,"")).replace(/Unused Heap: ([0-9]+) bytes\n/g,function(e,t){return r.unusedHeap=parseInt(t),""})).replace(/Used Heap Size: ([0-9]+)\n/g,function(e,t){return r.usedHeap=parseInt(t),""})).replace(/Allocated: ([0-9]+), /g,function(e,t){return r.allocated=parseInt(t),""})).replace(/Free: ([0-9]+)\n/g,function(e,t){return r.free=parseInt(t),""})).replace(/Total Free RAM: ([0-9]+) bytes\n/g,function(e,t){return r.freeRAM=parseInt(t),""})).replace(/Free AHB0: ([0-9]+), /g,function(e,t){return r.freeAHB0=parseInt(t),""})).replace(/AHB1: ([0-9]+)\n/g,function(e,t){return r.freeAHB1=parseInt(t),""})).replace(/Block size: ([0-9]+) bytes, /g,function(e,t){return r.blockSize=parseInt(t),""})).replace(/Tickinfo size: ([0-9]+) bytes/g,function(e,t){return r.tickInfoSize=parseInt(t),""});var n=[],o=[],u=null;return t&&(e=(e=e.replace(/Chunk: ([0-9]+) {2}Address: ([x0-9A-F]+) {2}Size: ([0-9]+) {2}(CHUNK FREE)?\n/g,function(e,t,r,o,u){return n.push({num:t,address:r,size:parseInt(o),free:!!u}),""})).split("\n").map(function(e){return(e=(e=e.replace(/Start: ([0-9]+)b MemoryPool at ([x0-9a-f]+)/g,function(e,t,r){return u={address:r,start:parseInt(t),chunks:[],total:null,free:null},""})).replace(/Chunk at ([x0-9a-f]+) \( *([0-9]+)\): (free|used), ([0-9]+) bytes/g,function(e,t,r,n,o){return u.chunks.push({address:t,offset:parseInt(r),free:"free"===n,size:parseInt(o)}),""})).replace(/End: total ([0-9]+)b, free: ([0-9]+)b/g,function(e,t,r){return u=Wu({},u,{total:parseInt(t),free:parseInt(r)}),o.push(Wu({},u)),u=null,""})}).filter(function(e){return e.length}).join("\n").trim()),Wu({},r,{chunks:n,memoryPool:o})}(r,t[0]&&"-v"===t[0])}catch(n){throw new Lu.default("mem [-v]",n)}}};Iu.memCommand=Gu;var zu={};Object.defineProperty(zu,"__esModule",{value:!0}),zu.default=void 0;var Hu,Ku=(Hu=Ee)&&Hu.__esModule?Hu:{default:Hu};function Vu(e){return(Vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yu(e){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bu(e,t){return(Bu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qu=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=Yu(r).call(this,{type:e.COULD_NOT_CREATE_ERROR,message:"Could not create [".concat(t,"].")}))||"object"!==Vu(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bu(e,t)}(r,Ku.default),r}();zu.default=qu;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.mkdirCommand=void 0;var Ju,Zu=(Ju=zu)&&Ju.__esModule?Ju:{default:Ju},Xu={command:"mkdir",usage:"mkdir <path>",description:"Create new directory",parse:function(e){var t=e.args;if(e.response.startsWith("could not create"))throw new Zu.default(t[0]||null);return{path:t[0]}}};Qu.mkdirCommand=Xu;var $u={};Object.defineProperty($u,"__esModule",{value:!0}),$u.default=void 0;var ea,ta=(ea=Ee)&&ea.__esModule?ea:{default:ea};function ra(e){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oa(e,t){return(oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ua=function(t){function r(t,n){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),o=this,!(u=na(r).call(this,{type:e.COULD_NOT_MOVE_ERROR,message:"Could not move [".concat(t,"] to [").concat(n,"].")}))||"object"!==ra(u)&&"function"!=typeof u?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o):u;var o,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oa(e,t)}(r,ta.default),r}();$u.default=ua;var aa={};Object.defineProperty(aa,"__esModule",{value:!0}),aa.mvCommand=void 0;var ia,ca=(ia=$u)&&ia.__esModule?ia:{default:ia},fa={command:"mv",usage:"mv <source> <target>",description:"Move a file from source to target path",parse:function(e){var t=e.args;if(e.response.startsWith("Could not rename"))throw new ca.default(t[0]||null,t[1]||null);return{source:t[0],target:t[1]}}};aa.mvCommand=fa;var sa={};Object.defineProperty(sa,"__esModule",{value:!0}),sa.netCommand=void 0;var la,pa=(la=qt)&&la.__esModule?la:{default:la},da={command:"net",usage:"net",description:"Get network informations",parse:function(e){e.args;var t=e.response;try{return function(e){var t=e.split("\n"),r=t.shift(),n=t.shift(),o=t.shift(),u=t.shift();if(!r.startsWith("IP Addr: "))throw new Error("Undefined IP address");if(!n.startsWith("IP GW: "))throw new Error("Undefined network gateway");if(!o.startsWith("IP mask: "))throw new Error("Undefined network mask");if(!u.startsWith("MAC Address: "))throw new Error("Undefined MAC address");return{address:r.slice(9),gateway:n.slice(7),mask:o.slice(9),MAC:u.slice(13)}}(t)}catch(r){throw new pa.default("net",r)}}};sa.netCommand=da;var ya={};Object.defineProperty(ya,"__esModule",{value:!0}),ya.default=void 0;var ma,ba=(ma=Ee)&&ma.__esModule?ma:{default:ma};function _a(e){return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oa(e){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ha(e,t){return(ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var va=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=Oa(r).call(this,{type:e.CURRENTLY_PLAYING_ERROR,message:"Currently printing, suspend or abord first."}))||"object"!==_a(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ha(e,t)}(r,ba.default),r}();ya.default=va;var ga={};Object.defineProperty(ga,"__esModule",{value:!0}),ga.playCommand=void 0;var Ra=ja(ya),wa=ja(qt),Ea=ja(Rr);function ja(e){return e&&e.__esModule?e:{default:e}}var Pa={command:"play",usage:"play <file>",description:"Play file from SD card",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("Currently printing"))throw new Ra.default;if(r.startsWith("File not found"))throw new Ea.default(t[0]||null);if(!r.startsWith("Playing"))throw new wa.default("play <file>");var n=t[0],o=r.match(/File size ([0-9]+)/);return{message:r,file:n,size:parseInt(o[1]||-1)}}};ga.playCommand=Pa;var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.default=void 0;var Ma,Ca=(Ma=Ee)&&Ma.__esModule?Ma:{default:Ma};function Ta(e){return(Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Na(e){return(Na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ua(e,t){return(Ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Da=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=Na(r).call(this,{type:e.UNKNOWN_FILE_SIZE_ERROR,message:"Unknown file size."}))||"object"!==Ta(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ua(e,t)}(r,Ca.default),r}();Sa.default=Da;var ka={};Object.defineProperty(ka,"__esModule",{value:!0}),ka.progressCommand=void 0;var Ia=xa(Gt),Aa=xa(Sa),La=xa(qt);function xa(e){return e&&e.__esModule?e:{default:e}}var Wa=/SD printing byte ([0-9]+)\/([0-9]+)/,Fa=/SD print is paused at ([0-9]+)\/([0-9]+)/,Ga=/file: ([^,]+), ([0-9]+) % complete, elapsed time: ([0-9:]+)(, est time: ([0-9:]+))?/,za={command:"progress",usage:"progress [-b]",description:"Get SD or File playing progression",parse:function(e){e.args;var t=e.response;if(t.startsWith("Not currently playing"))throw new Ia.default;if(t.startsWith("File size is unknown"))throw new Aa.default;var r=t.match(Wa);if(r){var n=parseInt(r[1]),o=parseInt(r[2]);return{loaded:n,total:o,percent:Math.round(100*n/o)}}var u=t.match(Fa);if(u)return{loaded:parseInt(u[1]),total:parseInt(u[2])};var a=t.match(Ga);if(a)return{file:a[1],percent:parseInt(a[2]),elapsedTime:a[3],estimatedTime:a[5]||1/0};throw new La.default("progress [-b]")}};ka.progressCommand=za;var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.pwdCommand=void 0;Ha.pwdCommand={command:"pwd",usage:"pwd",description:"Get (print) current working directory",parse:function(e){return e.args,{path:e.response}}};var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.remountCommand=void 0;Ka.remountCommand={command:"remount",usage:"remount",description:"Remount SD card",parse:function(e){return e.args,{message:e.response}}};var Va={};Object.defineProperty(Va,"__esModule",{value:!0}),Va.resetCommand=void 0;Va.resetCommand={command:"reset",usage:"reset",description:"Reset the board",parse:function(e){return e.args,{message:e.response}}};var Ya={};Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.default=void 0;var Ba,qa=(Ba=Ee)&&Ba.__esModule?Ba:{default:Ba};function Qa(e){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ja(e){return(Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e,t){return(Za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xa=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=Ja(r).call(this,{type:e.NOT_SUSPENDED_ERROR,message:"Not suspended play."}))||"object"!==Qa(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}(r,qa.default),r}();Ya.default=Xa;var $a={};Object.defineProperty($a,"__esModule",{value:!0}),$a.default=void 0;var ei,ti=(ei=Ee)&&ei.__esModule?ei:{default:ei};function ri(e){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oi(e,t){return(oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ui=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=ni(r).call(this,{type:e.KILL_ERROR,message:"KILLED"}))||"object"!==ri(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oi(e,t)}(r,ti.default),r}();$a.default=ui;var ai={};Object.defineProperty(ai,"__esModule",{value:!0}),ai.resumeCommand=void 0;var ii=si(qt),ci=si(Ya),fi=si($a);function si(e){return e&&e.__esModule?e:{default:e}}var li={command:"resume",usage:"resume",description:"Resume the suspended print",parse:function(e){e.args;var t=e.response;if(t.startsWith("Not suspended"))throw new ci.default;if(t.match(/Resume aborted by kill/))throw new fi.default;if(!t.match(/Resuming print/))throw new ii.default("resume");return{logs:t.split("\n")}}};ai.resumeCommand=li;var pi={};Object.defineProperty(pi,"__esModule",{value:!0}),pi.default=void 0;var di,yi=(di=Ee)&&di.__esModule?di:{default:di};function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bi(e){return(bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _i(e,t){return(_i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oi=function(t){function r(t){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),n=this,!(o=bi(r).call(this,{type:e.COULD_NOT_DELETE_ERROR,message:"Could not delete [".concat(t,"].")}))||"object"!==mi(o)&&"function"!=typeof o?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):o;var n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_i(e,t)}(r,yi.default),r}();pi.default=Oi;var hi={};Object.defineProperty(hi,"__esModule",{value:!0}),hi.rmCommand=void 0;var vi,gi=(vi=pi)&&vi.__esModule?vi:{default:vi},Ri={command:"rm",usage:"rm <file>",description:"Remove a file or an empty folder",parse:function(e){var t=e.args;if(e.response.startsWith("Could not delete"))throw new gi.default(t[0]||null);return{path:t[0]}}};hi.rmCommand=Ri;var wi={};Object.defineProperty(wi,"__esModule",{value:!0}),wi.saveCommand=void 0;var Ei,ji=(Ei=qt)&&Ei.__esModule?Ei:{default:Ei},Pi={command:"save",usage:"save <file>",description:"Saves the specified config-override file",parse:function(e){e.args;var t=e.response;if(!t.startsWith("Settings Stored to "))throw new ji.default("save <file>");return{file:t.slice(19)}}};wi.saveCommand=Pi;var Si={};Object.defineProperty(Si,"__esModule",{value:!0}),Si.setTempCommand=void 0;var Mi,Ci=(Mi=Go)&&Mi.__esModule?Mi:{default:Mi},Ti={command:"set_temp",usage:"set_temp <device> <value>",description:"Set device temperature",parse:function(e){var t=e.args;if(e.response.endsWith("is not a known temperature device"))throw new Ci.default(t[0]||null);return{device:t[0],value:parseFloat(t[1])}}};Si.setTempCommand=Ti;var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.default=void 0;var Ui,Di=(Ui=Ee)&&Ui.__esModule?Ui:{default:Ui};function ki(e){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ii(e){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ai(e,t){return(Ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Li=function(t){function r(){return function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),t=this,!(n=Ii(r).call(this,{type:e.ALREADY_SUSPENDED_ERROR,message:"Already suspended."}))||"object"!==ki(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n;var t,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ai(e,t)}(r,Di.default),r}();Ni.default=Li;var xi={};Object.defineProperty(xi,"__esModule",{value:!0}),xi.suspendCommand=void 0;var Wi=Gi(Ni),Fi=Gi(qt);function Gi(e){return e&&e.__esModule?e:{default:e}}var zi={command:"suspend",usage:"suspend",description:"Suspend a print in progress",parse:function(e){e.args;var t=e.response;if(t.startsWith("Already suspended"))throw new Wi.default;if(!t.startsWith("// Suspending print"))throw new Fi.default("suspend");return{message:t}}};xi.suspendCommand=zi;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.switchCommand=void 0;var Ki=Yi(qt),Vi=Yi(Go);function Yi(e){return e&&e.__esModule?e:{default:e}}var Bi={command:"switch",usage:"switch <name> [onf|off]",description:"Set or get switch state for a named switch",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("unknown switch")||r.endsWith("is not a known switch device"))throw new Vi.default(t[0]||null);var n=r.match(/switch (.*) (?:is|set to:) (.*)/);if(!n||r.startsWith("must be"))throw new Ki.default("switch <name> [onf|off]");var o=n[2];return"0"===n[2]?o="off":"1"===n[2]&&(o="on"),{name:n[1],value:o}}};Hi.switchCommand=Bi;var qi={};Object.defineProperty(qi,"__esModule",{value:!0}),qi.testCircleCommand=void 0;var Qi,Ji=(Qi=ir)&&Qi.__esModule?Qi:{default:Qi},Zi="test circle <radius> <iterations> [feedrate]",Xi={command:"test circle",usage:Zi,description:"Draws a circle around origin",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:"))throw new Ji.default(t,Zi);return{gcode:r.split("\n").slice(0,-1)}}};qi.testCircleCommand=Xi;var $i={};Object.defineProperty($i,"__esModule",{value:!0}),$i.testSquareCommand=void 0;var ec,tc=(ec=ir)&&ec.__esModule?ec:{default:ec},rc="test square <size> <iterations> [feedrate]",nc={command:"test square",usage:rc,description:"Draws a square from origin",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:"))throw new tc.default(t,rc);return{gcode:r.split("\n").slice(0,-1)}}};$i.testSquareCommand=nc;var oc={};Object.defineProperty(oc,"__esModule",{value:!0}),oc.testJogCommand=void 0;var uc,ac=(uc=ir)&&uc.__esModule?uc:{default:uc},ic="test jog <axis> <distance> <iterations> [feedrate]",cc={command:"test jog",usage:ic,description:"Jogs back and forth from origin",parse:function(e){var t=e.args,r=e.response;if(r.startsWith("error:"))throw new ac.default(t,ic);return{gcode:r.split("\n").slice(0,-1)}}};oc.testJogCommand=cc;var fc={};Object.defineProperty(fc,"__esModule",{value:!0}),fc.testRawCommand=void 0;var sc,lc=(sc=ir)&&sc.__esModule?sc:{default:sc},pc="test raw <axis> <steps> <speed>",dc={command:"test raw",usage:pc,description:"Issues raw steps to the specified axis",parse:function(e){var t=e.args;if(e.response.startsWith("error:"))throw new lc.default(t,pc);return{axis:t[0],steps:parseInt(t[1]),speed:parseInt(t[2])}}};fc.testRawCommand=dc;var yc={};Object.defineProperty(yc,"__esModule",{value:!0}),yc.testCommand=void 0;var mc,bc=(mc=$n)&&mc.__esModule?mc:{default:mc},_c="test <square|circle|jog|raw> <...options>",Oc=["circle","square","jog","raw"],hc={command:"test",usage:_c,description:"Execute some tests",parse:function(e){var t=e.args,r=e.response,n=t.shift();if(!Oc.includes(n))throw new bc.default(n,_c);switch(n){case"square":return $i.testSquareCommand.parse({args:t,response:r});case"circle":return qi.testCircleCommand.parse({args:t,response:r});case"jog":return oc.testJogCommand.parse({args:t,response:r});case"raw":return fc.testRawCommand.parse({args:t,response:r})}}};yc.testCommand=hc;var vc={};Object.defineProperty(vc,"__esModule",{value:!0}),vc.thermistorsCommand=void 0;var gc,Rc=(gc=qt)&&gc.__esModule?gc:{default:gc},wc={command:"thermistors",usage:"thermistors",description:"Get predefined thermistors",parse:function(e){e.args;var t=e.response;try{return function(e){var t=e.split("\n");t.shift();var r=[],n=[],o=r;return t.forEach(function(e){if(e.startsWith("Beta table"))o=n;else{var t=e.split("-");o.push({id:parseInt(t[0].trim()),name:t[1].trim()})}}),{table:r,beta:n}}(t)}catch(r){throw new Rc.default("thermistors",r)}}};vc.thermistorsCommand=wc;var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.versionCommand=void 0;var jc,Pc=(jc=qt)&&jc.__esModule?jc:{default:jc},Sc=/Build version: ([^,]+), Build date: ([^,]+), MCU: ([^,]+), System Clock: ([^\n]+)\n?(([0-5]) axis)?/m,Mc={command:"version",usage:"version",description:"Get firmware version",parse:function(e){e.args;var t=e.response.match(Sc);if(!t)throw new Pc.default("version");var r=t[1].split("-"),n={branch:r[0].trim(),hash:r[1].trim(),date:t[2].trim(),mcu:t[3].trim(),clock:t[4].trim()};return t[5]&&(n.axis=parseInt(t[6])),n}};Ec.versionCommand=Mc;var Cc={};Object.defineProperty(Cc,"__esModule",{value:!0}),Object.keys(tr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return tr[e]}})}),Object.keys(ar).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return ar[e]}})}),Object.keys(yr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return yr[e]}})}),Object.keys(Cr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Cr[e]}})}),Object.keys(Fr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Fr[e]}})}),Object.keys(Xr).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Xr[e]}})}),Object.keys(un).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return un[e]}})}),Object.keys(hn).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return hn[e]}})}),Object.keys(Sn).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Sn[e]}})}),Object.keys(Nn).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Nn[e]}})}),Object.keys(Yn).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Yn[e]}})}),Object.keys(uu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return uu[e]}})}),Object.keys(ao).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return ao[e]}})}),Object.keys(lo).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return lo[e]}})}),Object.keys(_o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return _o[e]}})}),Object.keys(Ro).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Ro[e]}})}),Object.keys(Po).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Po[e]}})}),Object.keys(qo).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return qo[e]}})}),Object.keys(tu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return tu[e]}})}),Object.keys(lu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return lu[e]}})}),Object.keys(bu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return bu[e]}})}),Object.keys(Ru).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Ru[e]}})}),Object.keys(Tu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Tu[e]}})}),Object.keys(Iu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Iu[e]}})}),Object.keys(Qu).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Qu[e]}})}),Object.keys(aa).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return aa[e]}})}),Object.keys(sa).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return sa[e]}})}),Object.keys(ga).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return ga[e]}})}),Object.keys(ka).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return ka[e]}})}),Object.keys(Ha).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Ha[e]}})}),Object.keys(Ka).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Ka[e]}})}),Object.keys(Va).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Va[e]}})}),Object.keys(ai).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return ai[e]}})}),Object.keys(hi).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return hi[e]}})}),Object.keys(wi).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return wi[e]}})}),Object.keys(Si).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Si[e]}})}),Object.keys(xi).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return xi[e]}})}),Object.keys(Hi).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Hi[e]}})}),Object.keys(qi).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return qi[e]}})}),Object.keys(yc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return yc[e]}})}),Object.keys(oc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return oc[e]}})}),Object.keys(fc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return fc[e]}})}),Object.keys($i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return $i[e]}})}),Object.keys(vc).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return vc[e]}})}),Object.keys(dt).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return dt[e]}})}),Object.keys(Ec).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Cc,e,{enumerable:!0,get:function(){return Ec[e]}})});var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0}),Object.defineProperty(Tc,"parse",{enumerable:!0,get:function(){return Uc.default}}),Tc.commands=void 0;var Nc=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(Cc);Tc.commands=Nc;var Uc=kc(rt),Dc=kc(Ve);function kc(e){return e&&e.__esModule?e:{default:e}}Object.values(Nc).map(Dc.default);var Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});var Ac={errorTypes:!0};Ic.errorTypes=void 0;var Lc=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(e);Ic.errorTypes=Lc,Object.keys(Oe).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(Ac,e)||Object.defineProperty(Ic,e,{enumerable:!0,get:function(){return Oe[e]}}))}),Object.keys(At).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(Ac,e)||Object.defineProperty(Ic,e,{enumerable:!0,get:function(){return At[e]}}))}),Object.keys(Tc).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(Ac,e)||Object.defineProperty(Ic,e,{enumerable:!0,get:function(){return Tc[e]}}))});var xc=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(Ic);window.smoothieCommands=xc}();